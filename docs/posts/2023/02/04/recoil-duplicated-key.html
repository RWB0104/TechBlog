<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>[recoil] Duplicate atom key 오류 해결하기 - 𝝅번째 알파카의 개발 낙서장</title><meta content="React와 상태관리는 떼놓을 수 없는 존재다. 좀 더 효율적이고 스마트한 상태관리를 위한 많은 시도가 있어왔는데, recoil도 그 중 하나다. recoil은 선발주자인 Redux, mobx와 달리 간편하면서도 강력한 기능 덕분에 많은 사랑을 받는 라이브러리다. 나 또한 React 개발 시 애용하기도 하고." name="description"/><meta content="𝝅번째 알파카의 개발 낙서장" property="og:site_name"/><meta content="[recoil] Duplicate atom key 오류 해결하기 - 𝝅번째 알파카의 개발 낙서장" property="og:title"/><meta content="React와 상태관리는 떼놓을 수 없는 존재다. 좀 더 효율적이고 스마트한 상태관리를 위한 많은 시도가 있어왔는데, recoil도 그 중 하나다. recoil은 선발주자인 Redux, mobx와 달리 간편하면서도 강력한 기능 덕분에 많은 사랑을 받는 라이브러리다. 나 또한 React 개발 시 애용하기도 하고." property="og:description"/><meta content="website" property="og:type"/><meta content="https://blog.itcode.dev/posts/2023/02/04/recoil-duplicated-key" property="og:url"/><meta content="https://user-images.githubusercontent.com/50317129/216662084-69f29d33-1956-42a1-90d6-80d311949d10.png" property="og:image"/><meta content="ko_KR" property="og:locale"/><link href="https://blog.itcode.dev/posts/2023/02/04/recoil-duplicated-key" rel="canonical"/><link href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" rel="stylesheet"/><meta name="next-head-count" content="13"/><meta content="#333F50" name="theme-color"/><link href="/manifest.json" rel="manifest"/><link href="/favicon.ico" rel="icon"/><link href="/favicon.ico" rel="shortcut icon"/><link href="/favicon.ico" rel="apple-touch-icon"/><script src="https://www.googletagmanager.com/gtag/js?id=G-7QYWYNZ90R" async=""></script><script custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js" async=""></script><script src="/js/ga.js"></script><link rel="preload" href="/_next/static/css/fe544070f0f1357e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/fe544070f0f1357e.css" data-n-g=""/><link rel="preload" href="/_next/static/css/827c077b08ab2201.css" as="style"/><link rel="stylesheet" href="/_next/static/css/827c077b08ab2201.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-60d328ea1049e7c2.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-129e5da6b2161174.js" defer=""></script><script src="/_next/static/chunks/pages/_app-23e6f9c9b36660bf.js" defer=""></script><script src="/_next/static/chunks/95-0f5f52c71538709d.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5B...url%5D-810361d7d7e115df.js" defer=""></script><script src="/_next/static/J3sfR4_zuVbYxooYer8wY/_buildManifest.js" defer=""></script><script src="/_next/static/J3sfR4_zuVbYxooYer8wY/_ssgManifest.js" defer=""></script></head><body><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"header":{"title":"[recoil] Duplicate atom key 오류 해결하기","excerpt":"React와 상태관리는 떼놓을 수 없는 존재다. 좀 더 효율적이고 스마트한 상태관리를 위한 많은 시도가 있어왔는데, recoil도 그 중 하나다. recoil은 선발주자인 Redux, mobx와 달리 간편하면서도 강력한 기능 덕분에 많은 사랑을 받는 라이브러리다. 나 또한 React 개발 시 애용하기도 하고.","coverImage":"https://user-images.githubusercontent.com/50317129/216662084-69f29d33-1956-42a1-90d6-80d311949d10.png","date":"2023-02-04T01:56:31+09:00","type":"posts","category":"React","tag":["React","Web","recoil"],"comment":true,"publish":true},"name":"2023-02-04-recoil-duplicated-key.md","url":["2023-02-04-recoil-duplicated-key","2023","02","04","recoil-duplicated-key"],"toc":"\u003cul\u003e\u003cli\u003e\u003ca href=\"#개요\"\u003e개요\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#왜?\"\u003e왜?\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#해결-방법\"\u003e해결 방법\u003c/a\u003e\u003c/li\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"#\u0026#114;\u0026#101;\u0026#99;\u0026#x6f;\u0026#x69;\u0026#x6c;\u0026#64;\u0026#48;\u0026#46;\u0026#x37;\u0026#46;\u0026#x36;-이상일 경우의 방법\"\u003e\u003ca href=\"mailto:\u0026#114;\u0026#101;\u0026#99;\u0026#x6f;\u0026#x69;\u0026#x6c;\u0026#64;\u0026#48;\u0026#46;\u0026#x37;\u0026#46;\u0026#x36;\" target=\"_blank\"\u003e\u0026#114;\u0026#101;\u0026#99;\u0026#x6f;\u0026#x69;\u0026#x6c;\u0026#64;\u0026#48;\u0026#46;\u0026#x37;\u0026#46;\u0026#x36;\u003c/a\u003e 이상일 경우의 방법\u003c/a\u003e\u003c/li\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"#환경변수-활용하기\"\u003e환경변수 활용하기\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#코드-활용하기\"\u003e코드 활용하기\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cli\u003e\u003ca href=\"#모든-recoil 버전에서의 해결 방법\"\u003e모든 recoil 버전에서의 해결 방법\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cli\u003e\u003ca href=\"#마치며\"\u003e마치며\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e","content":"\u003ch1 id=\"개요\"\u003e개요 \u003ca href=\"#개요\"\u003e🔗\u003c/a\u003e\u003c/h1\u003e\u003cp\u003eReact와 상태관리는 떼놓을 수 없는 존재다. 좀 더 효율적이고 스마트한 상태관리를 위한 많은 시도가 있어왔는데, \u003ccode class=\"inline-code\"\u003erecoil\u003c/code\u003e도 그 중 하나다.\u003c/p\u003e\n\u003cp\u003e\u003ccode class=\"inline-code\"\u003erecoil\u003c/code\u003e은 선발주자인 \u003ccode class=\"inline-code\"\u003eRedux\u003c/code\u003e, \u003ccode class=\"inline-code\"\u003emobx\u003c/code\u003e와 달리 간편하면서도 강력한 기능 덕분에 많은 사랑을 받는 라이브러리다. 나 또한 React 개발 시 애용하기도 하고.\u003c/p\u003e\n\u003cbr /\u003e\n\n\u003cp\u003eNextJS 같은 SSR 프레임워크와 \u003ccode class=\"inline-code\"\u003erecoil\u003c/code\u003e을 쓰다보면 콘솔에 이런 오류를 자주 볼 수 있다.\u003c/p\u003e\n\n\t\t\t\t\u003cdiv class=\"block-code\"\u003e\n\t\t\t\t\t\u003cdiv class=\"top\"\u003e\n\t\t\t\t\t\t\u003cp\u003eTXT\u003c/p\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\u003c/div\u003e\n\n\t\t\t\t\t\u003cbutton onclick=\"copyCode(this);\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"\u003e\u003cpath fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/button\u003e\n\n\t\t\t\t\t\u003cpre class=\"language-txt\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr data-number=0\u003e\u003ctd class=\"line-number\" data-number=\"0\"\u003e0\u003c/td\u003e\u003ctd class=\"line-code\" data-number=0\u003eExpectation Violation: Duplicate atom key [KEY_NAME].\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=1\u003e\u003ctd class=\"line-number\" data-number=\"1\"\u003e1\u003c/td\u003e\u003ctd class=\"line-code\" data-number=1\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=2\u003e\u003ctd class=\"line-number\" data-number=\"2\"\u003e2\u003c/td\u003e\u003ctd class=\"line-code\" data-number=2\u003eThis is a FATAL ERROR in production.\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=3\u003e\u003ctd class=\"line-number\" data-number=\"3\"\u003e3\u003c/td\u003e\u003ctd class=\"line-code\" data-number=3\u003eBut it is safe to ignore this warning if it occurred because of hot module replacement.\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/pre\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003cp\u003e직역하자면, \u003ccode class=\"inline-code\"\u003eatom\u003c/code\u003e의 키가 중복되었다는 뜻인데, 분명 중복된 키를 가진 \u003ccode class=\"inline-code\"\u003eatom\u003c/code\u003e이 없음에도 이런 오류가 발생한다.\u003c/p\u003e\n\u003cp\u003e다행히도 기능 상의 문제는 없으며, 빌드 시 사라지긴 한다. 그러나 명목상으로나마 \u003cspan class='red-600'\u003e오류\u003c/span\u003e인 이 현상을 그냥 두기엔 꽤나 거슬린다.\u003c/p\u003e\n\u003cp\u003e이 문서에서는 이러한 현상이 발생하는 이유와, 이를 어떻게 해결하는지에 대해 다루고자 한다.\u003c/p\u003e\n\u003ch1 id=\"왜?\"\u003e왜? \u003ca href=\"#왜?\"\u003e🔗\u003c/a\u003e\u003c/h1\u003e\u003cp\u003e이 현상은 보통 개발환경에서만 발생하며, 빌드 후 배포한 운영환경에선 잡히지 않는 경우가 대부분이다. 반대였다면 꽤나 골치아팠을텐데.\u003c/p\u003e\n\u003cp\u003e개발환경에서만 발생하며, 기능에 별다른 문제도 일어나지 않는 이 오류같지 않은 오류는 왜 발생하는걸까?\u003c/p\u003e\n\u003cbr /\u003e\n\n\n\t\t\t\t\u003cdiv class=\"block-code\"\u003e\n\t\t\t\t\t\u003cdiv class=\"top\"\u003e\n\t\t\t\t\t\t\u003cp\u003eTSX\u003c/p\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\u003c/div\u003e\n\n\t\t\t\t\t\u003cbutton onclick=\"copyCode(this);\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"\u003e\u003cpath fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/button\u003e\n\n\t\t\t\t\t\u003cpre class=\"language-tsx\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr data-number=0\u003e\u003ctd class=\"line-number\" data-number=\"0\"\u003e0\u003c/td\u003e\u003ctd class=\"line-code\" data-number=0\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e stringAtom \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token generic-function\"\u003e\u003cspan class=\"token function\"\u003eatom\u003c/span\u003e\u003cspan class=\"token generic class-name\"\u003e\u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eundefined\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=1\u003e\u003ctd class=\"line-number\" data-number=\"1\"\u003e1\u003c/td\u003e\u003ctd class=\"line-code\" data-number=1\u003e  key\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'stringAtom'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=2\u003e\u003ctd class=\"line-number\" data-number=\"2\"\u003e2\u003c/td\u003e\u003ctd class=\"line-code\" data-number=2\u003e  \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eundefined\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=3\u003e\u003ctd class=\"line-number\" data-number=\"3\"\u003e3\u003c/td\u003e\u003ctd class=\"line-code\" data-number=3\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/pre\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003cp\u003e위 코드는 기초적인 \u003ccode class=\"inline-code\"\u003eatom\u003c/code\u003e 선언 방법이다. \u003ccode class=\"inline-code\"\u003ekey\u003c/code\u003e는 \u003ccode class=\"inline-code\"\u003eatom\u003c/code\u003e을 내부적으로 구분하기 위한 고유값을 입력한다. 분명 \u003ccode class=\"inline-code\"\u003estringAtom\u003c/code\u003e은 다른 \u003ccode class=\"inline-code\"\u003eatom\u003c/code\u003e에 쓰지 않았음에도, 오류가 발생할 것이다.\u003c/p\u003e\n\u003cp\u003e그 이유는 React 개발환경만의 특징과 밀접한 연관이 있다.. React 개발 시, 편의를 위해 핫 로드 기법을 사용한다. 코드가 변경될 경우, 개발 서버가 이를 감지하여 변경분을 실시간으로 교체해준다. 이 과정에서, 일부 코드가 다시 렌더링되며 \u003ccode class=\"inline-code\"\u003erecoil\u003c/code\u003e의 \u003ccode class=\"inline-code\"\u003eatom\u003c/code\u003e 까지 다시 할당해버린다.\u003c/p\u003e\n\u003cp\u003e때문에 \u003ccode class=\"inline-code\"\u003erecoil\u003c/code\u003e 입장에서는, 이미 할당된 \u003ccode class=\"inline-code\"\u003estringAtom\u003c/code\u003e을 다시 할당하는 것이므로, \u003ccode class=\"inline-code\"\u003eatom\u003c/code\u003e의 고유값 훼손을 막기 위해 오류를 발생시켜 개발자에게 이를 알려주는 것이다. 하지만 개발자 입장에서는 본인의 의지가 전혀 개입되지 않은 현상이므로, 서로의 입장 차이가 발생하는 셈이다.\u003c/p\u003e\n\u003cp\u003e물론 일반적인 서비스라면 이러한 형태로 구동되지 않는다. 위에서 언급했듯이 핫 로드라는 환경으로 인해 개발환경에서만 발생하는 것이다. 운영환경의 경우, 당연히 빌드된 결과물만 갖고 구동하므로 이런 일이 발생하지 않는다.\u003c/p\u003e\n\u003ch1 id=\"해결-방법\"\u003e해결 방법 \u003ca href=\"#해결-방법\"\u003e🔗\u003c/a\u003e\u003c/h1\u003e\u003cp\u003e이 오류의 해결방법은 그리 어렵지 않다. 간혹 여러 자료에서 \u003ccode class=\"inline-code\"\u003enode_modules\u003c/code\u003e의 \u003ccode class=\"inline-code\"\u003erecoil\u003c/code\u003e 라이브러리 파일을 찾아 이를 유발하는 \u003ccode class=\"inline-code\"\u003econsole.error()\u003c/code\u003e를 주석 처리하라고 알려주기도 한다. 하지만 대부분 알다시피, 이렇게 라이브러리를 임의로 수정해서 사용하는 건 그리 좋은 방법은 아니다. 물론 방법이 정 없다면? 이렇게라도 하는 게 맞겠지만, 이 경우 라이브러리를 욕해도 라이브러리 개발자는 할 말이 없을 것이다.\u003c/p\u003e\n\u003cp\u003e그러니 아래 두 방법 중 하나를 택하여, 깔끔한 트러블슈팅과 라이브러리 개발자를 향한 리스펙 둘 다 챙겨보자.\u003c/p\u003e\n\u003ch2 id=\"\u0026#114;\u0026#101;\u0026#99;\u0026#x6f;\u0026#x69;\u0026#x6c;\u0026#64;\u0026#48;\u0026#46;\u0026#x37;\u0026#46;\u0026#x36;-이상일 경우의 방법\"\u003e\u003ca href=\"mailto:\u0026#114;\u0026#101;\u0026#99;\u0026#x6f;\u0026#x69;\u0026#x6c;\u0026#64;\u0026#48;\u0026#46;\u0026#x37;\u0026#46;\u0026#x36;\" target=\"_blank\"\u003e\u0026#114;\u0026#101;\u0026#99;\u0026#x6f;\u0026#x69;\u0026#x6c;\u0026#64;\u0026#48;\u0026#46;\u0026#x37;\u0026#46;\u0026#x36;\u003c/a\u003e 이상일 경우의 방법 \u003ca href=\"#\u0026#114;\u0026#101;\u0026#99;\u0026#x6f;\u0026#x69;\u0026#x6c;\u0026#64;\u0026#48;\u0026#46;\u0026#x37;\u0026#46;\u0026#x36;-이상일 경우의 방법\"\u003e🔗\u003c/a\u003e\u003c/h2\u003e\u003cp\u003e\u003ccode class=\"inline-code\"\u003erecoil\u003c/code\u003e 사용자 모두가 이 유사 버그를 거슬려 하다보니, 해당 라이브러리의 레포지토리는 물론, 각종 커뮤니티에서 관련된 토론이 끊이질 않았다.\u003c/p\u003e\n\u003cp\u003e다행히 \u003ccode class=\"inline-code\"\u003e0.7.6\u003c/code\u003e 버전부터 라이브러리에 관련 옵션을 추가하여 오류를 쉽게 컨트롤 할 수 있도록 개선했다.\u003c/p\u003e\n\u003cp\u003e환경변수를 활용하는 방법 하나, 코드 내에서 활용하는 방법 하나가 있다.\u003c/p\u003e\n\u003ch3 id=\"환경변수-활용하기\"\u003e환경변수 활용하기 \u003ca href=\"#환경변수-활용하기\"\u003e🔗\u003c/a\u003e\u003c/h3\u003e\n\t\t\t\t\u003cdiv class=\"block-code\"\u003e\n\t\t\t\t\t\u003cdiv class=\"top\"\u003e\n\t\t\t\t\t\t\u003cp\u003ePROPERTIES\u003c/p\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\u003c/div\u003e\n\n\t\t\t\t\t\u003cbutton onclick=\"copyCode(this);\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"\u003e\u003cpath fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/button\u003e\n\n\t\t\t\t\t\u003cpre class=\"language-properties\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr data-number=0\u003e\u003ctd class=\"line-number\" data-number=\"0\"\u003e0\u003c/td\u003e\u003ctd class=\"line-code\" data-number=0\u003e# .env\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=1\u003e\u003ctd class=\"line-number\" data-number=\"1\"\u003e1\u003c/td\u003e\u003ctd class=\"line-code\" data-number=1\u003eRECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=false\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/pre\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003cp\u003e환경변수에서 \u003ccode class=\"inline-code\"\u003eRECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED\u003c/code\u003e 옵션을 꺼주면 된다.\u003c/p\u003e\n\u003cp\u003e어찌됐든 \u003ccode class=\"inline-code\"\u003eatom\u003c/code\u003e의 고유성을 보호하는 로직인데다, 운영환경에서는 진짜 중복된 게 아닌 이상 개발환경처럼 중구난방으로 발생하지 않으므로 덮어놓고 꺼버리는 건 그닥 좋은 선택지는 아닌 것 같아 보인다.\u003c/p\u003e\n\u003cp\u003e이 경우 아래와 같이 스마트하게 구성할 수도 있다.\u003c/p\u003e\n\u003cbr /\u003e\n\n\n\t\t\t\t\u003cdiv class=\"block-code\"\u003e\n\t\t\t\t\t\u003cdiv class=\"top\"\u003e\n\t\t\t\t\t\t\u003cp\u003ePROPERTIES\u003c/p\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\u003c/div\u003e\n\n\t\t\t\t\t\u003cbutton onclick=\"copyCode(this);\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"\u003e\u003cpath fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/button\u003e\n\n\t\t\t\t\t\u003cpre class=\"language-properties\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr data-number=0\u003e\u003ctd class=\"line-number\" data-number=\"0\"\u003e0\u003c/td\u003e\u003ctd class=\"line-code\" data-number=0\u003e# .env.development\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=1\u003e\u003ctd class=\"line-number\" data-number=\"1\"\u003e1\u003c/td\u003e\u003ctd class=\"line-code\" data-number=1\u003e# 개발환경 환경변수\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=2\u003e\u003ctd class=\"line-number\" data-number=\"2\"\u003e2\u003c/td\u003e\u003ctd class=\"line-code\" data-number=2\u003eRECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=false\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=3\u003e\u003ctd class=\"line-number\" data-number=\"3\"\u003e3\u003c/td\u003e\u003ctd class=\"line-code\" data-number=3\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=4\u003e\u003ctd class=\"line-number\" data-number=\"4\"\u003e4\u003c/td\u003e\u003ctd class=\"line-code\" data-number=4\u003e# .env.production\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=5\u003e\u003ctd class=\"line-number\" data-number=\"5\"\u003e5\u003c/td\u003e\u003ctd class=\"line-code\" data-number=5\u003e# 운영환경 환경변수\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=6\u003e\u003ctd class=\"line-number\" data-number=\"6\"\u003e6\u003c/td\u003e\u003ctd class=\"line-code\" data-number=6\u003eRECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=true\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/pre\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003cp\u003e이렇게 환경에 따라 옵션에 차이를 둘 수 있다.\u003c/p\u003e\n\u003ch3 id=\"코드-활용하기\"\u003e코드 활용하기 \u003ca href=\"#코드-활용하기\"\u003e🔗\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e간혹, 특정 프레임워크는 환경변수의 접두사로 특정 문자열을 반드시 요구하기도 한다. 이 경우 환경변수를 활용하기엔 무리가 있다. 그 외에도 여러 이유로 환경변수를 활용할 수 없는 케이스가 있을 수도 있고.\u003c/p\u003e\n\u003cp\u003e그렇다고 걱정하지 않아도 된다. 코드 상에서도 동일한 동작을 구현할 수 있으니 말이다.\u003c/p\u003e\n\n\t\t\t\t\u003cdiv class=\"block-code\"\u003e\n\t\t\t\t\t\u003cdiv class=\"top\"\u003e\n\t\t\t\t\t\t\u003cp\u003eTSX\u003c/p\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\u003c/div\u003e\n\n\t\t\t\t\t\u003cbutton onclick=\"copyCode(this);\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"\u003e\u003cpath fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/button\u003e\n\n\t\t\t\t\t\u003cpre class=\"language-tsx\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr data-number=0\u003e\u003ctd class=\"line-number\" data-number=\"0\"\u003e0\u003c/td\u003e\u003ctd class=\"line-code\" data-number=0\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e RecoilEnv\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e RecoilRoot \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'recoil'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=1\u003e\u003ctd class=\"line-number\" data-number=\"1\"\u003e1\u003c/td\u003e\u003ctd class=\"line-code\" data-number=1\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=2\u003e\u003ctd class=\"line-number\" data-number=\"2\"\u003e2\u003c/td\u003e\u003ctd class=\"line-code\" data-number=2\u003e\u003cspan class=\"token comment\" data-tag=\"new\"\u003e// 중복 체크 해제\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=3\u003e\u003ctd class=\"line-number\" data-number=\"3\"\u003e3\u003c/td\u003e\u003ctd class=\"line-code\" data-number=3\u003eRecoilEnv\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eRECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eenv\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eNODE_ENV\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'production'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=4\u003e\u003ctd class=\"line-number\" data-number=\"4\"\u003e4\u003c/td\u003e\u003ctd class=\"line-code\" data-number=4\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=5\u003e\u003ctd class=\"line-number\" data-number=\"5\"\u003e5\u003c/td\u003e\u003ctd class=\"line-code\" data-number=5\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eApp\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token constant\"\u003eJSX\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eElement\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=6\u003e\u003ctd class=\"line-number\" data-number=\"6\"\u003e6\u003c/td\u003e\u003ctd class=\"line-code\" data-number=6\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=7\u003e\u003ctd class=\"line-number\" data-number=\"7\"\u003e7\u003c/td\u003e\u003ctd class=\"line-code\" data-number=7\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=8\u003e\u003ctd class=\"line-number\" data-number=\"8\"\u003e8\u003c/td\u003e\u003ctd class=\"line-code\" data-number=8\u003e    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eRecoilRoot\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=9\u003e\u003ctd class=\"line-number\" data-number=\"9\"\u003e9\u003c/td\u003e\u003ctd class=\"line-code\" data-number=9\u003e      \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eComponent\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token plain-text\"\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=10\u003e\u003ctd class=\"line-number\" data-number=\"10\"\u003e10\u003c/td\u003e\u003ctd class=\"line-code\" data-number=10\u003e    \u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eRecoilRoot\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=11\u003e\u003ctd class=\"line-number\" data-number=\"11\"\u003e11\u003c/td\u003e\u003ctd class=\"line-code\" data-number=11\u003e  \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=12\u003e\u003ctd class=\"line-number\" data-number=\"12\"\u003e12\u003c/td\u003e\u003ctd class=\"line-code\" data-number=12\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/pre\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003cp\u003e\u003ccode class=\"inline-code\"\u003eRecoilEnv\u003c/code\u003e를 통해 코드 상에서 옵션을 컨트롤 할 수 있다. \u003ccode class=\"inline-code\"\u003eprocess.env.NODE_ENV\u003c/code\u003e가 환경값을 담고 있으므로, 이를 활용하면 위처럼 개발환경에서만 옵션을 끌 수 있다.\u003c/p\u003e\n\u003ch2 id=\"모든-recoil 버전에서의 해결 방법\"\u003e모든 recoil 버전에서의 해결 방법 \u003ca href=\"#모든-recoil 버전에서의 해결 방법\"\u003e🔗\u003c/a\u003e\u003c/h2\u003e\u003cp\u003e\u003ccode class=\"inline-code\"\u003e0.7.6\u003c/code\u003e 버전 미만에서는 \u003ccode class=\"inline-code\"\u003eRecoilEnv\u003c/code\u003e를 제공하지 않는다. 따라서 코드 상에서 다른 방법을 강구해야한다.\u003c/p\u003e\n\u003cp\u003e이 방법은 코드 내에서 해결하는 범용적인 방식이므로, \u003ccode class=\"inline-code\"\u003erecoil\u003c/code\u003e 버전이 \u003ccode class=\"inline-code\"\u003e0.7.6\u003c/code\u003e 이상이여도 적용 가능하다.\u003c/p\u003e\n\u003cbr /\u003e\n\n\u003cp\u003e원리는 간단하다. 이 오류가 발생하는 이유는 \u003cstrong\u003e핫 로드로 인해 재할당되는 과정에서 동일한 key를 가진 atom을 할당하기 때문\u003c/strong\u003e이다.\u003c/p\u003e\n\u003cp\u003e그럼 개발환경에서만 key가 중복 안 되게만 해주면 된다. 어차피 재할당 되면서 해당 \u003ccode class=\"inline-code\"\u003eatom\u003c/code\u003e으로 대체되므로, 키가 달라져도 기능 상의 차이는 없다.\u003c/p\u003e\n\u003cbr /\u003e\n\n\n\t\t\t\t\u003cdiv class=\"block-code\"\u003e\n\t\t\t\t\t\u003cdiv class=\"top\"\u003e\n\t\t\t\t\t\t\u003cp\u003eTSX\u003c/p\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\u003c/div\u003e\n\n\t\t\t\t\t\u003cbutton onclick=\"copyCode(this);\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"\u003e\u003cpath fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/button\u003e\n\n\t\t\t\t\t\u003cpre class=\"language-tsx\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr data-number=0\u003e\u003ctd class=\"line-number\" data-number=\"0\"\u003e0\u003c/td\u003e\u003ctd class=\"line-code\" data-number=0\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e stringAtom \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token generic-function\"\u003e\u003cspan class=\"token function\"\u003eatom\u003c/span\u003e\u003cspan class=\"token generic class-name\"\u003e\u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eundefined\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=1\u003e\u003ctd class=\"line-number\" data-number=\"1\"\u003e1\u003c/td\u003e\u003ctd class=\"line-code\" data-number=1\u003e  key\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eenv\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eNODE_ENV\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'development'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003estringAtom-\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eDate\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003enow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'stringAtom'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=2\u003e\u003ctd class=\"line-number\" data-number=\"2\"\u003e2\u003c/td\u003e\u003ctd class=\"line-code\" data-number=2\u003e  \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eundefined\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=3\u003e\u003ctd class=\"line-number\" data-number=\"3\"\u003e3\u003c/td\u003e\u003ctd class=\"line-code\" data-number=3\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/pre\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003cp\u003e\u003ccode class=\"inline-code\"\u003eprocess.env.NODE_ENV\u003c/code\u003e를 통해 개발환경일 때만 키에 시간을 붙여서 할당한다. 굳이 시간이 아니더라도 \u003ccode class=\"inline-code\"\u003eMath.random()\u003c/code\u003e 같이 난수 특징을 갖는 것들 중 마음에 드는걸 갖다 붙여도 상관없다.\u003c/p\u003e\n\u003cp\u003e좀 더 스마트하게 구성하려면 아래와 같이, \u003ccode class=\"inline-code\"\u003ekey\u003c/code\u003e 생성 부분을 메서드로 빼도 된다.\u003c/p\u003e\n\n\t\t\t\t\u003cdiv class=\"block-code\"\u003e\n\t\t\t\t\t\u003cdiv class=\"top\"\u003e\n\t\t\t\t\t\t\u003cp\u003eTSX\u003c/p\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv\u003e\u003c/div\u003e\n\t\t\t\t\t\u003c/div\u003e\n\n\t\t\t\t\t\u003cbutton onclick=\"copyCode(this);\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"\u003e\u003cpath fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/button\u003e\n\n\t\t\t\t\t\u003cpre class=\"language-tsx\"\u003e\u003ctable\u003e\u003ctbody\u003e\u003ctr data-number=0\u003e\u003ctd class=\"line-number\" data-number=\"0\"\u003e0\u003c/td\u003e\u003ctd class=\"line-code\" data-number=0\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003egetAtomKey\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ekey\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=1\u003e\u003ctd class=\"line-number\" data-number=\"1\"\u003e1\u003c/td\u003e\u003ctd class=\"line-code\" data-number=1\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=2\u003e\u003ctd class=\"line-number\" data-number=\"2\"\u003e2\u003c/td\u003e\u003ctd class=\"line-code\" data-number=2\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eenv\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eNODE_ENV\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'development'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ekey\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e-\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eDate\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003enow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=3\u003e\u003ctd class=\"line-number\" data-number=\"3\"\u003e3\u003c/td\u003e\u003ctd class=\"line-code\" data-number=3\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=4\u003e\u003ctd class=\"line-number\" data-number=\"4\"\u003e4\u003c/td\u003e\u003ctd class=\"line-code\" data-number=4\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=5\u003e\u003ctd class=\"line-number\" data-number=\"5\"\u003e5\u003c/td\u003e\u003ctd class=\"line-code\" data-number=5\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e stringAtom \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token generic-function\"\u003e\u003cspan class=\"token function\"\u003eatom\u003c/span\u003e\u003cspan class=\"token generic class-name\"\u003e\u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eundefined\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=6\u003e\u003ctd class=\"line-number\" data-number=\"6\"\u003e6\u003c/td\u003e\u003ctd class=\"line-code\" data-number=6\u003e  key\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003egetAtomKey\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'stringAtom'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=7\u003e\u003ctd class=\"line-number\" data-number=\"7\"\u003e7\u003c/td\u003e\u003ctd class=\"line-code\" data-number=7\u003e  \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eundefined\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003ctr data-number=8\u003e\u003ctd class=\"line-number\" data-number=\"8\"\u003e8\u003c/td\u003e\u003ctd class=\"line-code\" data-number=8\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/pre\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003cp\u003e위 처럼 만들면 코드의 중복을 제거할 수 있다.\u003c/p\u003e\n\u003ch1 id=\"마치며\"\u003e마치며 \u003ca href=\"#마치며\"\u003e🔗\u003c/a\u003e\u003c/h1\u003e\u003cp\u003e위에서 언급한 방법 중 마음에 드는 걸 선택하면 된다.\u003c/p\u003e\n\u003cp\u003e결과에 차이는 없으나, 난 개인적으로 \u003cstrong\u003e모든 recoil 버전에서의 해결 방법\u003c/strong\u003e을 더 선호한다.\u003c/p\u003e\n\u003cp\u003e검증 로직을 고의로 꺼서 이미 발생한 에러를 막는 것보다, 에러를 유발하지 않는 게 더 나을 것 같다는 생각 때문이다. 물론 내부를 까보진 않아서 어떻게 동작할진 모르지만.\u003c/p\u003e\n\u003cbr /\u003e\n\n\u003cp\u003e이제 거슬리는 오류를 치워버리자.\u003c/p\u003e\n","meta":{"group":[],"next":{"header":{"title":"심심해서 쓰는 Tesla Model 3 렌트 후기","excerpt":"제주도 갈끄니까~~~~~~","coverImage":"https://user-images.githubusercontent.com/50317129/180824351-714b4d97-f27e-482f-b1c6-2e45f67ab816.png","date":"2022-07-26T01:06:39","type":"posts","category":"잡담","tag":["Tesla"],"comment":true,"publish":true},"name":"2022-07-25-tesla-model3.md","url":["2022-07-25-tesla-model3","2022","07","25","tesla-model3"]},"prev":null}},"__N_SSG":true},"page":"/posts/[...url]","query":{"url":["2023","02","04","recoil-duplicated-key"]},"buildId":"J3sfR4_zuVbYxooYer8wY","isFallback":false,"gsp":true,"scriptLoader":[]}</script><div id="__next"><main class="BaseLayout_root__B_daK BaseLayout_dark__J0Z1C"><header class="Header_root__6133_ Header_dark__kXDsn" data-top="true"><div class="Header_wrapper__gLme4"><img alt="logo" height="32" src="/img/icon-48x48.png" width="32"/><h4 class="Header_title__fGjc2">𝝅번째 알파카의 개발 낙서장</h4><nav class="MenuList_root__Cpq2E"><a class="MenuList_link__sNici" href="/" title="Welcome"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg></a><a class="MenuList_link__sNici" href="/posts" title="Posts"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"></path></svg></a><a class="MenuList_link__sNici" href="/projects" title="Projects"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"></path></svg></a><a class="MenuList_link__sNici" href="/about" title="About"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 8C118.941 8 8 118.919 8 256c0 137.059 110.919 248 248 248 48.154 0 95.342-14.14 135.408-40.223 12.005-7.815 14.625-24.288 5.552-35.372l-10.177-12.433c-7.671-9.371-21.179-11.667-31.373-5.129C325.92 429.757 291.314 440 256 440c-101.458 0-184-82.542-184-184S154.542 72 256 72c100.139 0 184 57.619 184 160 0 38.786-21.093 79.742-58.17 83.693-17.349-.454-16.91-12.857-13.476-30.024l23.433-121.11C394.653 149.75 383.308 136 368.225 136h-44.981a13.518 13.518 0 0 0-13.432 11.993l-.01.092c-14.697-17.901-40.448-21.775-59.971-21.775-74.58 0-137.831 62.234-137.831 151.46 0 65.303 36.785 105.87 96 105.87 26.984 0 57.369-15.637 74.991-38.333 9.522 34.104 40.613 34.103 70.71 34.103C462.609 379.41 504 307.798 504 232 504 95.653 394.023 8 256 8zm-21.68 304.43c-22.249 0-36.07-15.623-36.07-40.771 0-44.993 30.779-72.729 58.63-72.729 22.292 0 35.601 15.241 35.601 40.77 0 45.061-33.875 72.73-58.161 72.73z"></path></svg></a><a class="MenuList_link__sNici" href="/comments" title="Comments"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"></path></svg></a></nav></div></header><section><div class="Screener_root__TDRyI"><div class="Screener_image-wrapper__gwI4x"><img alt="screen" class="Screener_image__9miJb"/><div class="Screener_plate__LqO_8"></div></div><div class="Screener_title-wrapper__MBQoW"><h1 class="Screener_title__Qaw47">[recoil] Duplicate atom key 오류 해결하기</h1><h3 class="Screener_menu__I6GMV">posts</h3><h3 class="Screener_lower__oLlSG">React</h3></div></div><article class="ContentLayout_root__6BVQ5"><div class="ContentToc_toc__5DTLv ContentToc_dark__c0obj"><h2>Table of Contents</h2><div><ul><li><a href="#개요">개요</a></li><li><a href="#왜?">왜?</a></li><li><a href="#해결-방법">해결 방법</a></li><ul><li><a href="#&#114;&#101;&#99;&#x6f;&#x69;&#x6c;&#64;&#48;&#46;&#x37;&#46;&#x36;-이상일 경우의 방법"><a href="mailto:&#114;&#101;&#99;&#x6f;&#x69;&#x6c;&#64;&#48;&#46;&#x37;&#46;&#x36;" target="_blank">&#114;&#101;&#99;&#x6f;&#x69;&#x6c;&#64;&#48;&#46;&#x37;&#46;&#x36;</a> 이상일 경우의 방법</a></li><ul><li><a href="#환경변수-활용하기">환경변수 활용하기</a></li><li><a href="#코드-활용하기">코드 활용하기</a></li></ul><li><a href="#모든-recoil 버전에서의 해결 방법">모든 recoil 버전에서의 해결 방법</a></li></ul><li><a href="#마치며">마치며</a></li></ul></div></div><img alt="count" class="Hits_counter__7IsHr" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fblog.itcode.dev%2Fposts%2F2023-02-04-recoil-duplicated-key%2F2023%2F02%2F04%2Frecoil-duplicated-key&amp;count_bg=%23555555&amp;title_bg=%23555555&amp;icon=react.svg&amp;icon_color=%2348CAF7&amp;title=hits&amp;edge_flat=false"/><div class="markdown dark"><h1 id="개요">개요 <a href="#개요">🔗</a></h1><p>React와 상태관리는 떼놓을 수 없는 존재다. 좀 더 효율적이고 스마트한 상태관리를 위한 많은 시도가 있어왔는데, <code class="inline-code">recoil</code>도 그 중 하나다.</p>
<p><code class="inline-code">recoil</code>은 선발주자인 <code class="inline-code">Redux</code>, <code class="inline-code">mobx</code>와 달리 간편하면서도 강력한 기능 덕분에 많은 사랑을 받는 라이브러리다. 나 또한 React 개발 시 애용하기도 하고.</p>
<br />

<p>NextJS 같은 SSR 프레임워크와 <code class="inline-code">recoil</code>을 쓰다보면 콘솔에 이런 오류를 자주 볼 수 있다.</p>

				<div class="block-code">
					<div class="top">
						<p>TXT</p>
						<div></div>
						<div></div>
						<div></div>
					</div>

					<button onclick="copyCode(this);"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-icon="clipboard" class="i-clipboard"><path fill="currentColor" d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z"></path></svg></button>

					<pre class="language-txt"><table><tbody><tr data-number=0><td class="line-number" data-number="0">0</td><td class="line-code" data-number=0>Expectation Violation: Duplicate atom key [KEY_NAME].</td></tr>
<tr data-number=1><td class="line-number" data-number="1">1</td><td class="line-code" data-number=1></td></tr>
<tr data-number=2><td class="line-number" data-number="2">2</td><td class="line-code" data-number=2>This is a FATAL ERROR in production.</td></tr>
<tr data-number=3><td class="line-number" data-number="3">3</td><td class="line-code" data-number=3>But it is safe to ignore this warning if it occurred because of hot module replacement.</td></tr></tbody></table></pre>
				</div>
			<p>직역하자면, <code class="inline-code">atom</code>의 키가 중복되었다는 뜻인데, 분명 중복된 키를 가진 <code class="inline-code">atom</code>이 없음에도 이런 오류가 발생한다.</p>
<p>다행히도 기능 상의 문제는 없으며, 빌드 시 사라지긴 한다. 그러나 명목상으로나마 <span class='red-600'>오류</span>인 이 현상을 그냥 두기엔 꽤나 거슬린다.</p>
<p>이 문서에서는 이러한 현상이 발생하는 이유와, 이를 어떻게 해결하는지에 대해 다루고자 한다.</p>
<h1 id="왜?">왜? <a href="#왜?">🔗</a></h1><p>이 현상은 보통 개발환경에서만 발생하며, 빌드 후 배포한 운영환경에선 잡히지 않는 경우가 대부분이다. 반대였다면 꽤나 골치아팠을텐데.</p>
<p>개발환경에서만 발생하며, 기능에 별다른 문제도 일어나지 않는 이 오류같지 않은 오류는 왜 발생하는걸까?</p>
<br />


				<div class="block-code">
					<div class="top">
						<p>TSX</p>
						<div></div>
						<div></div>
						<div></div>
					</div>

					<button onclick="copyCode(this);"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-icon="clipboard" class="i-clipboard"><path fill="currentColor" d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z"></path></svg></button>

					<pre class="language-tsx"><table><tbody><tr data-number=0><td class="line-number" data-number="0">0</td><td class="line-code" data-number=0><span class="token keyword">const</span> stringAtom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">atom</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></td></tr>
<tr data-number=1><td class="line-number" data-number="1">1</td><td class="line-code" data-number=1>  key<span class="token operator">:</span> <span class="token string">'stringAtom'</span><span class="token punctuation">,</span></td></tr>
<tr data-number=2><td class="line-number" data-number="2">2</td><td class="line-code" data-number=2>  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">undefined</span></td></tr>
<tr data-number=3><td class="line-number" data-number="3">3</td><td class="line-code" data-number=3><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr></tbody></table></pre>
				</div>
			<p>위 코드는 기초적인 <code class="inline-code">atom</code> 선언 방법이다. <code class="inline-code">key</code>는 <code class="inline-code">atom</code>을 내부적으로 구분하기 위한 고유값을 입력한다. 분명 <code class="inline-code">stringAtom</code>은 다른 <code class="inline-code">atom</code>에 쓰지 않았음에도, 오류가 발생할 것이다.</p>
<p>그 이유는 React 개발환경만의 특징과 밀접한 연관이 있다.. React 개발 시, 편의를 위해 핫 로드 기법을 사용한다. 코드가 변경될 경우, 개발 서버가 이를 감지하여 변경분을 실시간으로 교체해준다. 이 과정에서, 일부 코드가 다시 렌더링되며 <code class="inline-code">recoil</code>의 <code class="inline-code">atom</code> 까지 다시 할당해버린다.</p>
<p>때문에 <code class="inline-code">recoil</code> 입장에서는, 이미 할당된 <code class="inline-code">stringAtom</code>을 다시 할당하는 것이므로, <code class="inline-code">atom</code>의 고유값 훼손을 막기 위해 오류를 발생시켜 개발자에게 이를 알려주는 것이다. 하지만 개발자 입장에서는 본인의 의지가 전혀 개입되지 않은 현상이므로, 서로의 입장 차이가 발생하는 셈이다.</p>
<p>물론 일반적인 서비스라면 이러한 형태로 구동되지 않는다. 위에서 언급했듯이 핫 로드라는 환경으로 인해 개발환경에서만 발생하는 것이다. 운영환경의 경우, 당연히 빌드된 결과물만 갖고 구동하므로 이런 일이 발생하지 않는다.</p>
<h1 id="해결-방법">해결 방법 <a href="#해결-방법">🔗</a></h1><p>이 오류의 해결방법은 그리 어렵지 않다. 간혹 여러 자료에서 <code class="inline-code">node_modules</code>의 <code class="inline-code">recoil</code> 라이브러리 파일을 찾아 이를 유발하는 <code class="inline-code">console.error()</code>를 주석 처리하라고 알려주기도 한다. 하지만 대부분 알다시피, 이렇게 라이브러리를 임의로 수정해서 사용하는 건 그리 좋은 방법은 아니다. 물론 방법이 정 없다면? 이렇게라도 하는 게 맞겠지만, 이 경우 라이브러리를 욕해도 라이브러리 개발자는 할 말이 없을 것이다.</p>
<p>그러니 아래 두 방법 중 하나를 택하여, 깔끔한 트러블슈팅과 라이브러리 개발자를 향한 리스펙 둘 다 챙겨보자.</p>
<h2 id="&#114;&#101;&#99;&#x6f;&#x69;&#x6c;&#64;&#48;&#46;&#x37;&#46;&#x36;-이상일 경우의 방법"><a href="mailto:&#114;&#101;&#99;&#x6f;&#x69;&#x6c;&#64;&#48;&#46;&#x37;&#46;&#x36;" target="_blank">&#114;&#101;&#99;&#x6f;&#x69;&#x6c;&#64;&#48;&#46;&#x37;&#46;&#x36;</a> 이상일 경우의 방법 <a href="#&#114;&#101;&#99;&#x6f;&#x69;&#x6c;&#64;&#48;&#46;&#x37;&#46;&#x36;-이상일 경우의 방법">🔗</a></h2><p><code class="inline-code">recoil</code> 사용자 모두가 이 유사 버그를 거슬려 하다보니, 해당 라이브러리의 레포지토리는 물론, 각종 커뮤니티에서 관련된 토론이 끊이질 않았다.</p>
<p>다행히 <code class="inline-code">0.7.6</code> 버전부터 라이브러리에 관련 옵션을 추가하여 오류를 쉽게 컨트롤 할 수 있도록 개선했다.</p>
<p>환경변수를 활용하는 방법 하나, 코드 내에서 활용하는 방법 하나가 있다.</p>
<h3 id="환경변수-활용하기">환경변수 활용하기 <a href="#환경변수-활용하기">🔗</a></h3>
				<div class="block-code">
					<div class="top">
						<p>PROPERTIES</p>
						<div></div>
						<div></div>
						<div></div>
					</div>

					<button onclick="copyCode(this);"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-icon="clipboard" class="i-clipboard"><path fill="currentColor" d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z"></path></svg></button>

					<pre class="language-properties"><table><tbody><tr data-number=0><td class="line-number" data-number="0">0</td><td class="line-code" data-number=0># .env</td></tr>
<tr data-number=1><td class="line-number" data-number="1">1</td><td class="line-code" data-number=1>RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=false</td></tr></tbody></table></pre>
				</div>
			<p>환경변수에서 <code class="inline-code">RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED</code> 옵션을 꺼주면 된다.</p>
<p>어찌됐든 <code class="inline-code">atom</code>의 고유성을 보호하는 로직인데다, 운영환경에서는 진짜 중복된 게 아닌 이상 개발환경처럼 중구난방으로 발생하지 않으므로 덮어놓고 꺼버리는 건 그닥 좋은 선택지는 아닌 것 같아 보인다.</p>
<p>이 경우 아래와 같이 스마트하게 구성할 수도 있다.</p>
<br />


				<div class="block-code">
					<div class="top">
						<p>PROPERTIES</p>
						<div></div>
						<div></div>
						<div></div>
					</div>

					<button onclick="copyCode(this);"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-icon="clipboard" class="i-clipboard"><path fill="currentColor" d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z"></path></svg></button>

					<pre class="language-properties"><table><tbody><tr data-number=0><td class="line-number" data-number="0">0</td><td class="line-code" data-number=0># .env.development</td></tr>
<tr data-number=1><td class="line-number" data-number="1">1</td><td class="line-code" data-number=1># 개발환경 환경변수</td></tr>
<tr data-number=2><td class="line-number" data-number="2">2</td><td class="line-code" data-number=2>RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=false</td></tr>
<tr data-number=3><td class="line-number" data-number="3">3</td><td class="line-code" data-number=3></td></tr>
<tr data-number=4><td class="line-number" data-number="4">4</td><td class="line-code" data-number=4># .env.production</td></tr>
<tr data-number=5><td class="line-number" data-number="5">5</td><td class="line-code" data-number=5># 운영환경 환경변수</td></tr>
<tr data-number=6><td class="line-number" data-number="6">6</td><td class="line-code" data-number=6>RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=true</td></tr></tbody></table></pre>
				</div>
			<p>이렇게 환경에 따라 옵션에 차이를 둘 수 있다.</p>
<h3 id="코드-활용하기">코드 활용하기 <a href="#코드-활용하기">🔗</a></h3><p>간혹, 특정 프레임워크는 환경변수의 접두사로 특정 문자열을 반드시 요구하기도 한다. 이 경우 환경변수를 활용하기엔 무리가 있다. 그 외에도 여러 이유로 환경변수를 활용할 수 없는 케이스가 있을 수도 있고.</p>
<p>그렇다고 걱정하지 않아도 된다. 코드 상에서도 동일한 동작을 구현할 수 있으니 말이다.</p>

				<div class="block-code">
					<div class="top">
						<p>TSX</p>
						<div></div>
						<div></div>
						<div></div>
					</div>

					<button onclick="copyCode(this);"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-icon="clipboard" class="i-clipboard"><path fill="currentColor" d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z"></path></svg></button>

					<pre class="language-tsx"><table><tbody><tr data-number=0><td class="line-number" data-number="0">0</td><td class="line-code" data-number=0><span class="token keyword">import</span> <span class="token punctuation">{</span> RecoilEnv<span class="token punctuation">,</span> RecoilRoot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'recoil'</span><span class="token punctuation">;</span></td></tr>
<tr data-number=1><td class="line-number" data-number="1">1</td><td class="line-code" data-number=1></td></tr>
<tr data-number=2><td class="line-number" data-number="2">2</td><td class="line-code" data-number=2><span class="token comment" data-tag="new">// 중복 체크 해제</span></td></tr>
<tr data-number=3><td class="line-number" data-number="3">3</td><td class="line-code" data-number=3>RecoilEnv<span class="token punctuation">.</span><span class="token constant">RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">;</span></td></tr>
<tr data-number=4><td class="line-number" data-number="4">4</td><td class="line-code" data-number=4></td></tr>
<tr data-number=5><td class="line-number" data-number="5">5</td><td class="line-code" data-number=5><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">JSX</span><span class="token punctuation">.</span>Element</td></tr>
<tr data-number=6><td class="line-number" data-number="6">6</td><td class="line-code" data-number=6><span class="token punctuation">{</span></td></tr>
<tr data-number=7><td class="line-number" data-number="7">7</td><td class="line-code" data-number=7>  <span class="token keyword">return</span> <span class="token punctuation">(</span></td></tr>
<tr data-number=8><td class="line-number" data-number="8">8</td><td class="line-code" data-number=8>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RecoilRoot</span></span><span class="token punctuation">></span></span><span class="token plain-text"></td></tr>
<tr data-number=9><td class="line-number" data-number="9">9</td><td class="line-code" data-number=9>      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></td></tr>
<tr data-number=10><td class="line-number" data-number="10">10</td><td class="line-code" data-number=10>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">RecoilRoot</span></span><span class="token punctuation">></span></span></td></tr>
<tr data-number=11><td class="line-number" data-number="11">11</td><td class="line-code" data-number=11>  <span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr data-number=12><td class="line-number" data-number="12">12</td><td class="line-code" data-number=12><span class="token punctuation">}</span></td></tr></tbody></table></pre>
				</div>
			<p><code class="inline-code">RecoilEnv</code>를 통해 코드 상에서 옵션을 컨트롤 할 수 있다. <code class="inline-code">process.env.NODE_ENV</code>가 환경값을 담고 있으므로, 이를 활용하면 위처럼 개발환경에서만 옵션을 끌 수 있다.</p>
<h2 id="모든-recoil 버전에서의 해결 방법">모든 recoil 버전에서의 해결 방법 <a href="#모든-recoil 버전에서의 해결 방법">🔗</a></h2><p><code class="inline-code">0.7.6</code> 버전 미만에서는 <code class="inline-code">RecoilEnv</code>를 제공하지 않는다. 따라서 코드 상에서 다른 방법을 강구해야한다.</p>
<p>이 방법은 코드 내에서 해결하는 범용적인 방식이므로, <code class="inline-code">recoil</code> 버전이 <code class="inline-code">0.7.6</code> 이상이여도 적용 가능하다.</p>
<br />

<p>원리는 간단하다. 이 오류가 발생하는 이유는 <strong>핫 로드로 인해 재할당되는 과정에서 동일한 key를 가진 atom을 할당하기 때문</strong>이다.</p>
<p>그럼 개발환경에서만 key가 중복 안 되게만 해주면 된다. 어차피 재할당 되면서 해당 <code class="inline-code">atom</code>으로 대체되므로, 키가 달라져도 기능 상의 차이는 없다.</p>
<br />


				<div class="block-code">
					<div class="top">
						<p>TSX</p>
						<div></div>
						<div></div>
						<div></div>
					</div>

					<button onclick="copyCode(this);"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-icon="clipboard" class="i-clipboard"><path fill="currentColor" d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z"></path></svg></button>

					<pre class="language-tsx"><table><tbody><tr data-number=0><td class="line-number" data-number="0">0</td><td class="line-code" data-number=0><span class="token keyword">const</span> stringAtom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">atom</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></td></tr>
<tr data-number=1><td class="line-number" data-number="1">1</td><td class="line-code" data-number=1>  key<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">stringAtom-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">'stringAtom'</span> <span class="token punctuation">,</span></td></tr>
<tr data-number=2><td class="line-number" data-number="2">2</td><td class="line-code" data-number=2>  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">undefined</span></td></tr>
<tr data-number=3><td class="line-number" data-number="3">3</td><td class="line-code" data-number=3><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr></tbody></table></pre>
				</div>
			<p><code class="inline-code">process.env.NODE_ENV</code>를 통해 개발환경일 때만 키에 시간을 붙여서 할당한다. 굳이 시간이 아니더라도 <code class="inline-code">Math.random()</code> 같이 난수 특징을 갖는 것들 중 마음에 드는걸 갖다 붙여도 상관없다.</p>
<p>좀 더 스마트하게 구성하려면 아래와 같이, <code class="inline-code">key</code> 생성 부분을 메서드로 빼도 된다.</p>

				<div class="block-code">
					<div class="top">
						<p>TSX</p>
						<div></div>
						<div></div>
						<div></div>
					</div>

					<button onclick="copyCode(this);"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-icon="clipboard" class="i-clipboard"><path fill="currentColor" d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z"></path></svg></button>

					<pre class="language-tsx"><table><tbody><tr data-number=0><td class="line-number" data-number="0">0</td><td class="line-code" data-number=0><span class="token keyword">function</span> <span class="token function">getAtomKey</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span></td></tr>
<tr data-number=1><td class="line-number" data-number="1">1</td><td class="line-code" data-number=1><span class="token punctuation">{</span></td></tr>
<tr data-number=2><td class="line-number" data-number="2">2</td><td class="line-code" data-number=2>  <span class="token keyword">return</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> key<span class="token punctuation">;</span></td></tr>
<tr data-number=3><td class="line-number" data-number="3">3</td><td class="line-code" data-number=3><span class="token punctuation">}</span></td></tr>
<tr data-number=4><td class="line-number" data-number="4">4</td><td class="line-code" data-number=4></td></tr>
<tr data-number=5><td class="line-number" data-number="5">5</td><td class="line-code" data-number=5><span class="token keyword">const</span> stringAtom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">atom</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span></td></tr>
<tr data-number=6><td class="line-number" data-number="6">6</td><td class="line-code" data-number=6>  key<span class="token operator">:</span> <span class="token function">getAtomKey</span><span class="token punctuation">(</span><span class="token string">'stringAtom'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></td></tr>
<tr data-number=7><td class="line-number" data-number="7">7</td><td class="line-code" data-number=7>  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">undefined</span></td></tr>
<tr data-number=8><td class="line-number" data-number="8">8</td><td class="line-code" data-number=8><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr></tbody></table></pre>
				</div>
			<p>위 처럼 만들면 코드의 중복을 제거할 수 있다.</p>
<h1 id="마치며">마치며 <a href="#마치며">🔗</a></h1><p>위에서 언급한 방법 중 마음에 드는 걸 선택하면 된다.</p>
<p>결과에 차이는 없으나, 난 개인적으로 <strong>모든 recoil 버전에서의 해결 방법</strong>을 더 선호한다.</p>
<p>검증 로직을 고의로 꺼서 이미 발생한 에러를 막는 것보다, 에러를 유발하지 않는 게 더 나을 것 같다는 생각 때문이다. 물론 내부를 까보진 않아서 어떻게 동작할진 모르지만.</p>
<br />

<p>이제 거슬리는 오류를 치워버리자.</p>
</div><ins class="adsbygoogle " style="display:block" data-ad-client="ca-pub-5522045122225064" data-ad-slot="8348565597" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="true"></ins><article class="ContentMeta_root__AB4q4"><div class="ContentMeta_item__t2nv1"><p class="ContentMeta_text__7J2iz">📆 작성일</p><p class="ContentMeta_text__7J2iz">2023-02-03 Fri 16:56:31</p></div><div class="ContentMeta_item__t2nv1"><p class="ContentMeta_text__7J2iz">📚 카테고리</p><div class="ContentMeta_category-wrapper__iTc3o"><img alt="React" class="ContentMeta_category-image__eFQNA" src="https://user-images.githubusercontent.com/50317129/168414289-f7965056-0cd5-4041-b610-c941421ec590.png"/><a class="ContentMeta_link__Vhv65" href="/posts?category=React">React</a></div></div><div class="ContentMeta_item__t2nv1"><p class="ContentMeta_text__7J2iz">🏷️ 태그</p><div class="ContentMeta_tags__fn78c"><p class="ContentTags_root__CsQOH ContentTags_dark__A25TF" data-type="posts">React</p><p class="ContentTags_root__CsQOH ContentTags_dark__A25TF" data-type="posts">Web</p><p class="ContentTags_root__CsQOH ContentTags_dark__A25TF" data-type="posts">recoil</p></div></div></article><article class="ContentMover_root__nbsUY"><div class="ContentMover_mover-wrapper__AirRw"><div><a class="ContentMover_button__y5Gt8 ContentMover_dark__g0c2f" data-prev="true" href="/posts/2022/07/25/tesla-model3" title="심심해서 쓰는 Tesla Model 3 렌트 후기"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M244 400L100 256l144-144M120 256h292"></path></svg><p>심심해서 쓰는 Tesla Model 3 렌트 후기</p></a></div><div></div></div><hr class="ContentMover_divider__0fz_H"/><div><a class="ContentMover_button__y5Gt8 ContentMover_dark__g0c2f" href="/posts" title="/posts"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="48" d="M88 152h336M88 256h336M88 360h336"></path></svg><p>목록</p></a></div></article><article class="Utterances_root__4mTVu" id="utterances"></article></article></section><div class="FabPannel_root__sNMNZ"><button class="ThemeFab_switch-light__0WkQT"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="ThemeFab_icon-light__X_Ios" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22zm0 368a22 22 0 01-22-22v-48a22 22 0 0144 0v48a22 22 0 01-22 22zm113.14-321.14a22 22 0 01-15.56-37.55l33.94-33.94a22 22 0 0131.11 31.11l-33.94 33.94a21.93 21.93 0 01-15.55 6.44zM108.92 425.08a22 22 0 01-15.55-37.56l33.94-33.94a22 22 0 1131.11 31.11l-33.94 33.94a21.94 21.94 0 01-15.56 6.45zM464 278h-48a22 22 0 010-44h48a22 22 0 010 44zm-368 0H48a22 22 0 010-44h48a22 22 0 010 44zm307.08 147.08a21.94 21.94 0 01-15.56-6.45l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.55 37.56zM142.86 164.86a21.89 21.89 0 01-15.55-6.44l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.56 37.55zM256 358a102 102 0 11102-102 102.12 102.12 0 01-102 102z"></path></svg><p class="ThemeFab_switch-text__G8XJZ">라이트 모드로 보기</p></button></div><footer class="Footer_root__FP6se"><div class="Footer_line__vIS65 Footer_dark__P_7js"><hr/><img alt="𝝅번째 알파카의 개발 낙서장" class="Footer_logo__s4OeA" src="/img/profile.jpg"/><hr/></div><div class="Footer_buttons__iNH3M"><a class="Footer_button__kDu_d" href="https://github.com/RWB0104" target="_blank" title="GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 003.8.4c8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 01-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0025.6-6c2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 015-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 01112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 015 .5c12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 004-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"></path></svg></a><a class="Footer_button__kDu_d" href="https://www.linkedin.com/in/itcode/" target="_blank" title="Linkedin"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M444.17 32H70.28C49.85 32 32 46.7 32 66.89v374.72C32 461.91 49.85 480 70.28 480h373.78c20.54 0 35.94-18.21 35.94-38.39V66.89C480.12 46.7 464.6 32 444.17 32zm-273.3 373.43h-64.18V205.88h64.18zM141 175.54h-.46c-20.54 0-33.84-15.29-33.84-34.43 0-19.49 13.65-34.42 34.65-34.42s33.85 14.82 34.31 34.42c-.01 19.14-13.31 34.43-34.66 34.43zm264.43 229.89h-64.18V296.32c0-26.14-9.34-44-32.56-44-17.74 0-28.24 12-32.91 23.69-1.75 4.2-2.22 9.92-2.22 15.76v113.66h-64.18V205.88h64.18v27.77c9.34-13.3 23.93-32.44 57.88-32.44 42.13 0 74 27.77 74 87.64z"></path></svg></a><a class="Footer_button__kDu_d" href="mailto:psj2716@gmail.com" target="_blank" title="Mail"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z"></path></svg></a></div><div class="Footer_buttons__iNH3M"><a class="Footer_button__kDu_d" href="https://itcode.dev" target="_blank" title="Project Page"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M410.66 180.72q-7.67-2.62-15.45-4.88 1.29-5.25 2.38-10.56c11.7-56.9 4.05-102.74-22.06-117.83-25-14.48-66 .61-107.36 36.69q-6.1 5.34-11.95 11-3.9-3.76-8-7.36c-43.35-38.58-86.8-54.83-112.88-39.69-25 14.51-32.43 57.6-21.9 111.53q1.58 8 3.55 15.93a320.85 320.85 0 00-17.77 5.6C48.46 198.9 16 226.73 16 255.59c0 29.82 34.84 59.72 87.77 77.85q6.44 2.19 13 4.07-2.13 8.49-3.77 17.17c-10 53-2.2 95.07 22.75 109.49 25.77 14.89 69-.41 111.14-37.31q5-4.38 10-9.25 6.32 6.11 13 11.86c40.8 35.18 81.09 49.39 106 34.93 25.75-14.94 34.12-60.14 23.25-115.13q-1.25-6.3-2.88-12.86 4.56-1.35 8.93-2.79c55-18.27 90.83-47.81 90.83-78-.02-29-33.52-57.01-85.36-74.9zm-129-81.08c35.43-30.91 68.55-43.11 83.65-34.39 16.07 9.29 22.32 46.75 12.22 95.88q-1 4.8-2.16 9.57a487.83 487.83 0 00-64.18-10.16 481.27 481.27 0 00-40.57-50.75q5.38-5.22 11.02-10.15zM157.73 280.25q6.51 12.6 13.61 24.89 7.23 12.54 15.07 24.71a435.28 435.28 0 01-44.24-7.13c4.24-13.72 9.46-27.97 15.56-42.47zm0-48.33c-6-14.19-11.08-28.15-15.25-41.63 13.7-3.07 28.3-5.58 43.52-7.48q-7.65 11.94-14.72 24.23t-13.58 24.88zm10.9 24.17q9.48-19.77 20.42-38.78 10.93-19 23.27-37.13c14.28-1.08 28.92-1.65 43.71-1.65s29.52.57 43.79 1.66q12.21 18.09 23.13 37t20.69 38.6Q334 275.63 323 294.73q-10.91 19-23 37.24c-14.25 1-29 1.55-44 1.55s-29.47-.47-43.46-1.38q-12.43-18.19-23.46-37.29t-20.48-38.76zM340.75 305q7.25-12.58 13.92-25.49a440.41 440.41 0 0116.12 42.32 434.44 434.44 0 01-44.79 7.65q7.62-12.09 14.75-24.48zm13.72-73.07q-6.64-12.65-13.81-25-7-12.18-14.59-24.06c15.31 1.94 30 4.52 43.77 7.67a439.89 439.89 0 01-15.37 41.39zm-98.24-107.45a439.75 439.75 0 0128.25 34.18q-28.35-1.35-56.74 0c9.33-12.34 18.88-23.79 28.49-34.18zM145.66 65.86c16.06-9.32 51.57 4 89 37.27 2.39 2.13 4.8 4.36 7.2 6.67A491.37 491.37 0 00201 160.51a499.12 499.12 0 00-64.06 10q-1.83-7.36-3.3-14.82c-9.05-46.23-3.06-81.08 12.02-89.83zm-23.41 251.85q-6-1.71-11.85-3.71c-23.4-8-42.73-18.44-56-29.81-11.88-10.19-17.9-20.36-17.9-28.6 0-17.51 26.06-39.85 69.52-55q8.19-2.85 16.52-5.21a493.54 493.54 0 0023.4 60.75 502.46 502.46 0 00-23.69 61.58zm111.13 93.67c-18.63 16.32-37.29 27.89-53.74 33.72-14.78 5.23-26.55 5.38-33.66 1.27-15.14-8.75-21.44-42.54-12.85-87.86q1.53-8 3.5-16a480.85 480.85 0 0064.69 9.39 501.2 501.2 0 0041.2 51c-2.98 2.93-6.03 5.75-9.14 8.48zm23.42-23.22c-9.72-10.51-19.42-22.14-28.88-34.64q13.79.54 28.08.54c9.78 0 19.46-.21 29-.64a439.33 439.33 0 01-28.2 34.74zm124.52 28.59c-2.86 15.44-8.61 25.74-15.72 29.86-15.13 8.78-47.48-2.63-82.36-32.72-4-3.44-8-7.13-12.07-11a484.54 484.54 0 0040.23-51.2 477.84 477.84 0 0065-10.05q1.47 5.94 2.6 11.64c4.81 24.3 5.5 46.28 2.32 63.47zm17.4-102.64c-2.62.87-5.32 1.71-8.06 2.53a483.26 483.26 0 00-24.31-60.94 481.52 481.52 0 0023.36-60.06c4.91 1.43 9.68 2.93 14.27 4.52 44.42 15.32 71.52 38 71.52 55.43 0 18.6-29.27 42.74-76.78 58.52z"></path><path d="M256 298.55a43 43 0 10-42.86-43 42.91 42.91 0 0042.86 43z"></path></svg></a><a class="Footer_button__kDu_d" href="/sitemap.xml" target="_blank" title="Sitemap"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"></path></svg></a><a class="Footer_button__kDu_d" href="/rss.xml" target="_blank" title="RSS"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg></a></div><div class="Footer_info__YX1E5"><p class="Footer_text__hqvZ_"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm117.134 346.753c-1.592 1.867-39.776 45.731-109.851 45.731-84.692 0-144.484-63.26-144.484-145.567 0-81.303 62.004-143.401 143.762-143.401 66.957 0 101.965 37.315 103.422 38.904a12 12 0 0 1 1.238 14.623l-22.38 34.655c-4.049 6.267-12.774 7.351-18.234 2.295-.233-.214-26.529-23.88-61.88-23.88-46.116 0-73.916 33.575-73.916 76.082 0 39.602 25.514 79.692 74.277 79.692 38.697 0 65.28-28.338 65.544-28.625 5.132-5.565 14.059-5.033 18.508 1.053l24.547 33.572a12.001 12.001 0 0 1-.553 14.866z"></path></svg> <!-- -->Copyright RWB 2021.05</p><img alt="count" class="Hits_counter__7IsHr" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fblog.itcode.dev&amp;count_bg=%23555555&amp;title_bg=%23555555&amp;icon=react.svg&amp;icon_color=%2348CAF7&amp;title=hits&amp;edge_flat=false"/></div></footer></main></div></body></html>