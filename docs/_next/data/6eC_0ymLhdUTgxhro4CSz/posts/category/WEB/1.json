{"pageProps":{"posts":[{"header":{"title":"[SSL] Freenom을 활용한 무료 도메인 발급하기","excerpt":"이전 글들에서 SSL이 뭔지, 어떤식으로 동작하는지를 다뤘다. 사이트에 SSL을 적용하기 위해선 SSL 인증서를 발급받아야한다. SSL 인증서를 발급받기 위해선 인증받기 위한 도메인이 필요하다. 국내에서 서비스 중인 도메인 업체에서 쉽게 발급받을 수 있다. 위 업체는 도메인 외에도 호스팅 등 다양한 서비스를 제공한다. 이 외에도 여러 업체들이 있으며, 국내 뿐만 아니라 해외에서 서비스 중인 업체들도 있다. 업체마다 가격 및 정책이 다르니 발품팔다보면 좋은 금액으로 구매할 수도 있다. TLD(Top Level Domain)에 따라 가격이 달라지며, 저렴한 건 연간 몇 천원에서부터 비싸면 수십만원대에 이르기도 한다.","coverImage":"https://user-images.githubusercontent.com/50317129/129755999-c5d6c474-d5c0-442a-b7c5-37b3cdf703a9.png","date":"2021-08-18T23:44:43","type":"posts","category":"WEB","tag":["CS","객체지향","SSL","도메인"],"group":"SSL","comment":true,"publish":true},"name":"2021-08-18-freenom-domain.md","content":"\r\n# 개요\r\n\r\n이전 글들에서 SSL이 뭔지, 어떤식으로 동작하는지를 다뤘다. 사이트에 SSL을 적용하기 위해선 SSL 인증서를 발급받아야한다.\r\n\r\nSSL 인증서를 발급받기 위해선 인증받기 위한 도메인이 필요하다. 국내에서 서비스 중인 도메인 업체에서 쉽게 발급받을 수 있다.\r\n\r\n* [가비아](https://www.gabia.com/)\r\n* [후이즈](https://whois.co.kr/)\r\n* [카페24](https://www.cafe24.com/)\r\n\r\n위 업체는 도메인 외에도 호스팅 등 다양한 서비스를 제공한다.\r\n\r\n이 외에도 여러 업체들이 있으며, 국내 뿐만 아니라 해외에서 서비스 중인 업체들도 있다. 업체마다 가격 및 정책이 다르니 발품팔다보면 좋은 금액으로 구매할 수도 있다.\r\n\r\nTLD(Top Level Domain)에 따라 가격이 달라지며, 저렴한 건 연간 몇 천원에서부터 비싸면 수십만원대에 이르기도 한다.\r\n\r\n> **TLD?**  \r\n> TLD에 대한 내용은 이전에 작성한 게시글 [URI? URL? URN? 리소스 식별자 구분하기](/2021/05/29/uri-url-urn#TLD(Top-Level Domain, 최상위 도메인))에서 확인 가능하다.\r\n\r\n# Freenom으로 무료 도메인 받기\r\n\r\n물론 위 방법으로 도메인을 발급받아도 좋지만, 여기엔 돈이 든다. 만약 본인이 실제 웹을 배포할 생각이라면 당연히 도메인을 구입하는 게 맞다.\r\n\r\n하지만 도메인 연결, SSL 적용 등 단순 테스트 목적이라면 적은 비용이라도 좀 아깝다는 생각이 들게 된다.\r\n\r\n다행히 [Freenom](https://www.freenom.com/)에서 무료 도메인을 발급해주니, 단순 테스트 목적으로 부담없이 사용할 수 있다.\r\n\r\n## 주의사항\r\n\r\nFrenom을 사용하는 데 몇 가지 주의사항이 있다.\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large amber-600\">1. 사용 가능한 TLD가 제한적임</p>\r\n\r\n주로 사용하는 TLD는 `com`, `net` 등이 있지만, Freenom은 `ga`, `ml` 등 특정한 ccTLD만 지원한다.\r\n\r\n* `tk`(Tokelau): 뉴질랜드령 토켈라우제도\r\n* `ml`(Mali): 말리\r\n* `ga`(Gabon): 가봉\r\n* `gq`(Equatorial Guinea): 적도 기니\r\n* `cf`(Central African Republic): 중앙아프리카 공화국\r\n\r\n대중적인 TLD를 선택할 순 없지만, 무료이니 감안하자. 어차피 후술할 이유로 실제 서비스에 적용하기엔 무리가 있다.\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large amber-600\">2. 연장 시기를 놓치면 유료화</p>\r\n\r\n발급받은 도메인은 최대 1년 단위로 연장해야한다. 연장은 만료일로부터 2주 안에 신청이 가능하다.\r\n\r\n연장하는데 비용은 들지 않으나, 문제는 연장 시기를 놓쳐 만료될 경우다. 이렇게 만료된 도메인은 새로 발급받아야하는데, <span class=\"purple-600\">Special Domain</span>으로 분류되어 약 9$ 정도의 비용을 요구한다.\r\n\r\n9$이면 괜찮은 TLD의 도메인을 발급받을 수 있을 정도의 금액이므로 여기서 구매할 이유도 딱히 없다.\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large red-600\">3. 인기 도메인 강제 하이재킹</p>\r\n\r\nFreenom 도메인을 <span class=\"red-400\">실제 서비스에 사용하면 안되는 결정적인 이유.</span>\r\n\r\n만약, 당신의 서비스에 Freenom 도메인을 적용했는데, 운 좋게 서비스의 인기가 많아졌다고 가정하자. 인가가 많아지면 덩달아 접속량도 많아지는 건 당연지사.\r\n\r\n문제는 Freenom에서 이를 모니터링한다는 점이다. 단순 모니터링해서 접속자 통계를 제공해주면 좋겠지만, 무료인데 그런 서비스를 제공할리가 없다.\r\n\r\n실상은 도메인이 일정 트래픽 이상을 발생시키면 <span class=\"purple-600\">Special Domain</span> 어쩌고 하면서 <span class=\"red-400\">유료로 전환</span>시켜버린다.\r\n\r\n2번이야 연장하지 않은 귀책사유라도 있지, 이건 그냥 도메인 강탈이라서 답도 없다. 트래픽이 많으면 다음 갱신이 불가능하다 이런 것도 아니고, 그냥 <span class=\"red-400\">트래픽이 많은 도메인은 언제든 뺏길 수 있다.</span>\r\n\r\n도메인이야 다시 발급받으면 된다지만, 이미 사용하던 사람들에게 도메인의 변경으로 혼란을 주고, 서비스의 신뢰성을 훼손하게 되므로 서비스 운영에 지대한 악영향을 미친다.\r\n\r\n# 도메인 발급 방법\r\n\r\n아래의 절차에 따라 도메인을 발급받자. 외국 소재 사이트다보니, 사이트 속도가 좀 느릴 수도 있으니 참고할 것.\r\n\r\n## 1. 회원가입\r\n\r\n[Freenom](https://www.freenom.com/)에 접속하여 회원가입을 진행한다. Google 소셜 로그인을 지원하니, 이쪽을 시도해도 좋다.\r\n\r\n## 2. 사용 가능한 도메인 검색\r\n\r\n검색창에서 원하는 도메인명을 검색한다. [Services] -> [Register a New Domain]을 메뉴를 선택하면 검색 페이지가 뜬다. \r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129911927-51d23984-87d3-47e9-88bf-e13abf2dff8a.png)\r\n\r\n<span class=\"blue-400\">rwb0104</span>의 경우 5개의 무료 도메인 중 5개 전부 적용이 가능하다.\r\n\r\n## 3. 무료 TLD 선택\r\n\r\n앞서 언급했듯이, 무료 도메인은 총 5개가 있다.\r\n\r\n이 중 원하는 TLD를 선택하자.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129912910-869d2ce9-d312-4cf6-85bf-4aa534ea87d8.png)\r\n\r\n여기에선 `tk` TLD를 선택한다. 위의 [<span class=\"green-A400\">Checkout</span>] 버튼을 클릭하여 다음으로 넘어간다.\r\n\r\n## 4. 옵션 선택\r\n\r\n도메인 옵션을 선택한다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129913319-c648e9cd-f097-4761-bede-685b5732039f.png)\r\n\r\n보다시피 별건 없고, 반드시 우측 콤보박스에서 [Period]를 12개월로 맞추자. 최대 12개월까지 무료로 사용 가능하며, 만료일자 기준으로 2주 안에 갱신이 가능하다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129913740-d8f36236-2136-477f-8375-e20e435156a1.png)\r\n\r\n[<span class=\"green-A400\">Use DNS</span>]를 선택하여 자신의 IP를 입력하자.\r\n\r\n자신의 실제 IP는 [여기](https://www.findip.kr/)에서 확인할 수 있다. 192.168.0.x과 같은 사설 IP는 입력하면 안 된다.\r\n\r\n위 사진은 `rwb0104.tk`와 `www.rwb0104.tk`에 매칭되는 아이피를 연결하는 설정이다. 앞의 `www`와 같은 서브도메인은 필요에 따라 DNS 설정을 통해 추가할 수도, 삭제할 수도 있으니 크게 신경쓰지 않아도 된다.\r\n\r\n모든 설정을 완료했다면 [<span class=\"lightBlue-A400\">Continue</span>]를 클릭하여 진행한다.\r\n\r\n## 5. 구매\r\n\r\n100원이든 0원이든 일단 \"구매\"는 하는 셈이니, 절차상 구매 약관에 따라 구매한다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129914504-abad20fc-e84d-4040-a003-1b82e6ba8080.png)\r\n\r\n$0.00 달러임을 확인하자. 문제가 없다면 약관에 동의하고 [<span class=\"lightBlue-A400\">Complete Order</span>]를 클릭한다.\r\n\r\n구매 확인서가 나오는데, 어차피 무료로 구매했으므로 신경쓰지 말고 넘어가자.\r\n\r\n## 6. 발급받은 도메인 확인\r\n\r\n[Services] -> [My Domains]에서 발급받은 도메인 목록을 확인할 수 있다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129914950-4ecd1040-82eb-4a35-b402-4914ea1013c1.png)\r\n\r\n[Manage Domain] 버튼을 클릭하면 도메인 설정을 변경하거나 삭제할 수 있다.\r\n\r\n# 도메인을 활용해 접속하기\r\n\r\n이제 도메인을 사용해 내 서버에 접속하자.\r\n\r\n아무런 설정을 건드리지 않은 Tomcat을 기동한다. 통상 `xxx.xxx.xxx.xxx:8080` 혹은 `localhost:8080`으로 접속했겠지만, 이제 IP `xxx.xxx.xxx.xxx`가 도메인과 연결되어 있으므로, 해당 도메인으로 접속해보자.\r\n\r\n`rwb0104.tk:8080` 이렇게 접속해서 문제없이 접속되면 도메인이 정상적으로 IP와 연동된 것이다.\r\n\r\n## 연결이 되지 않아요!\r\n\r\n* `xxx.xxx.xxx.xxx:8080`으로 접속되는지 확인할 것\r\n  * 접속이 될 경우 외부에서 문제없이 접속되므로, 도메인에 연결한 IP가 올바른지 확인\r\n  * 접속되지 않을 경우 애초에 외부에서 접속되지 않는 것이므로 방화벽이나 포트 통신에 문제가 없는지 확인\r\n\r\n# 정리\r\n\r\nFreenom은 실제로 쓰긴 굉장히 난감한 단점을 가진다. 그럼에도 불구하고 도메인 관련 테스트나 공부할 땐 또 이만한 사이트가 없는 것 같다.\r\n\r\n이제 도메인까지 발급받았으니, SSL 인증서를 발급받는 방법에 대해 다뤄보자.","url":["2021-08-18-freenom-domain","2021","08","18","freenom-domain"]},{"header":{"title":"[SSL] SSL 인증서","excerpt":"이전 장을 읽었다면 인증서에 대한 언급이 있음을 확인할 수 있다. SSL이 적용되면 서버와 클라이언트가 어떤 식으로 통신하고 암/복호화하여 데이터를 다루는지 설명했지만, 이는 SSL의 원리일 뿐이다. 그렇다면, 해당 도메인에 SSL이 적용되어 https를 사용할 수 있는 이유는 무엇일까?","coverImage":"https://user-images.githubusercontent.com/50317129/129755999-c5d6c474-d5c0-442a-b7c5-37b3cdf703a9.png","date":"2021-08-18T10:55:24","type":"posts","category":"WEB","tag":["CS","객체지향","SSL"],"group":"SSL","comment":true,"publish":true},"name":"2021-08-18-about-ssl-license.md","content":"\r\n# 개요\r\n\r\n이전 장을 읽었다면 인증서에 대한 언급이 있음을 확인할 수 있다.\r\n\r\nSSL이 적용되면 서버와 클라이언트가 어떤 식으로 통신하고 암/복호화하여 데이터를 다루는지 설명했지만, 이는 SSL의 원리일 뿐이다.\r\n\r\n그렇다면, 해당 도메인에 SSL이 적용되어 `https`를 사용할 수 있는 이유는 무엇일까?\r\n\r\n# SSL 인증서\r\n\r\n이는 바로 인증서의 존재 덕분이다. 해당 사이트에 SSL이 적용되었는지 여부는 HandShake의 과정 중 ServerHello에서 받은 인증서 정보를 통해 확인할 수 있다.\r\n\r\nSSL 인증서엔 도메인명, 회사 정보, 서버 공개키가 포함되어있으며, 이 정보를 통해 도메인의 사이트의 유효성 확인, 암호화 통신이 가능하다.\r\n\r\n# SSL 인증서 종류\r\n\r\nSSL 인증서는 인증서 심사의 수준에 따라 DV, OV, EV 세 가지로 구분할 수 있다.\r\n\r\n## DV(Domain Validation)\r\n\r\n<span class=\"pink-600\">DV</span>는 오로지 <span class=\"pink-400\">도메인의 소유만을 검증하여 발급하는 인증서</span>다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129820828-2bcf1d36-c954-471d-a7ce-e5facfa27859.png)\r\n\r\n* <span class=\"orange-400\">CN(Common Name)</span>: 도메인명 (*일 경우 와일드 카드)\r\n\r\n인증서 정보의 주체를 보면 도메인 정보인 CN외에 다른 정보는 확인할 수 없다.\r\n\r\nDV의 인증서 정책은 <span class=\"orange-400\">2.23.140.1.2.1</span>이다. 이를 통해 해당 인증서가 DV임을 유추할 수도 있다.\r\n\r\n도메인 외의 소유자 등에 대한 다른 요인은 전혀 심사에 반영되지 않으므로, <span class=\"green-400\">발급 절차가 간단하고 금방 발급</span>된다. 또한 <span class=\"green-400\">금액 역시 대체적으로 저렴</span>한 편. 하지만 <span class=\"red-400\">신뢰성은 다른 인증서에 비해 떨어진다.</span>\r\n\r\n이 도메인이 실제함은 보증하지만, 그 이상의 요인은 보증하지 않기 때문이다. 혹여 누군가가 불법적인 일을 위해 페이퍼 컴퍼니를 만들고, 사이트를 그럴듯하게 꾸며놓아도 DV 인증서는 SSL을 발급해준다. 심사 기준이 오로지 도메인이기 때문에 발생하는 문제.\r\n\r\n물론 이는 어디까지나 단순한 \"믿음\"의 영역으로, <span class=\"green-400\">DV 인증서의 암호화 알고리즘이 다른 인증서에 비해 취약한 것도 아니기 때문에 보안 자체엔 전혀 문제가 없다.</span>\r\n\r\n신뢰에 기반하는 쇼핑몰, 금융업 등의 서비스에선 가급적 지양해야할 인증서.\r\n\r\n반대로 신뢰성을 그렇게 크게 요구하지 않는 <span class=\"lightBlue-400\">개인 프로젝트</span>, <span class=\"lightBlue-400\">소규모 사이트</span> 등엔 시간적으로나 경제적으로나 DV가 적합하다. DV 인증서를 직접 보고 싶다면, 소규모 개인 사이트나 블로그에 들어가면 된다. 블로그의 경우 GitHub나 NAVER 같은 플랫폼 연계가 아닌, 실제 본인이 서버를 임대해서 플랫폼 없이 직접 배포하는 그런 블로그에 들어가야 한다.\r\n\r\n### E-Mail\r\n\r\n<span class=\"orange-400\">도메인 소유주의 이메일에 인증 메일을 발송하여 자신이 해당 도메인의 소유주임을 인증</span>하는 방식이다.\r\n\r\n이 이메일은 아무거나 지정할 수 없고, 도메인을 발급받은 DNS 사이트에 등록된 이메일만 가능하다.\r\n\r\n타 인증방식과 다르게 <span class=\"green-400\">HTTP 80포트를 사용하지 못 해도 인증이 가능한 방식</span>이다. 만약 어떠한 이유로든 외부에서 자신의 사이트에 80포트로 접속할 수 없는 경우, 이 방법 외에 다른 인증은 불가능하다.\r\n\r\n### DNS 레코드\r\n\r\n<span class=\"orange-400\">DNS 설정을 추가하여 자신이 해당 도메인의 소유주임을 인증</span>하는 방식이다.\r\n\r\nDNS 설정의 A 레코드에 CA에서 임의로 생성한 URL을 추가한다. 해당 URL로 접근했을 때, HTTP 응답 코드가 200일 경우 인증된다.\r\n\r\nDNS 설정은 도메인 소유주만 관리할 수 있으므로, CNAME이 추가되면 도메인 소유주라 간주할 수 있다.\r\n\r\n반드시 <span class=\"red-400\">80포트로 웹 페이지에 접속할 수 있어야한다.</span> 만약 본인의 네트워크 환경 특수성으로 인해 80포트가 외부로 개방되지 않을 수도 있다. 이 경우 포트포워딩을 사용해서 외부의 80포트를 내부의 다른 포트로 라우팅해주면 된다. 최악의 경우 80포트 자체의 연결이 막혔거나, 본인이 포트포워딩을 마음대로 설정할 수 없는 경우는 이 방법으로 인증할 수 없다.\r\n\r\n### HTTP 요청\r\n\r\n웹 ROOT 경로에 `.well-known` 폴더를 생성하여 내부에 임시 파일을 생성한다. 임시 파일은 랜덤한 해쉬값이다. 이를 웹 서버에 배포하면 브라우저 상에서 해당 경로를 통해 파일에 접근할 수 있을 것이다.\r\n\r\n<span class=\"orange-400\">HTTP 요청은 이러한 방식으로 소유주에게 특정 파일을 서버에 업로드할 것을 요구하여, 해당 파일 접근 가능 여부를 통해 소유주임을 인증</span>한다.\r\n\r\n마찬가지로, <span class=\"red-400\">80포트 접근이 가능해야만 할 수 있는 인증</span>방법.\r\n\r\n## OV(Organization Validation)\r\n\r\n<span class=\"pink-600\">OV</span>는 <span class=\"pink-400\">도메인 뿐만 아니라, 해당 도메인을 소유한 회사, 기업에 대해 검증하여 발급</span>하는 인증서다.\r\n\r\n내가 제출한 도메인이 유효한지와는 별개로 <span class=\"orange-400\">도메인을 소유한 단체, 회사에 대한 검증까지 진행</span>한다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129820836-ac84d888-46cc-4877-a060-bea4df121e7c.png)\r\n\r\n* <span class=\"orange-400\">CN(Common Name)</span>: 도메인명\r\n* <span class=\"orange-400\">O(Organization)</span>: 기관명\r\n* <span class=\"orange-400\">L(Locality)</span>: 지역(시군구)\r\n* <span class=\"orange-400\">S(StateOrProvinceName)</span>: 주(시도)\r\n* <span class=\"orange-400\">C(CountryName)</span>: 국가\r\n\r\n인증서의 주체를 보면 도메인 정보 외에도 이를 소유한 회사/기관의 이름, 지역, 국가 등의 정보를 확인할 수 있다.\r\n\r\nOV의 인증서 정책은 <span class=\"orange-400\">2.23.140.1.2.2</span>이다. 이를 통해 해당 인증서가 DV임을 유추할 수도 있다.\r\n\r\n자신의 단체/회사가 실존하는지를 입증하기 위해 사업자 등록증 같은 서류를 추가로 제출해야한다.\r\n\r\n소유주에 대한 검증 및 서류가 오가게 되므로, <span class=\"red-400\">발급이 즉시 이루어지진 못한다. 비용도 더 비싸며 족히 1 ~ 3일 정도는 소요</span>되는 편. 하지만 소유주에 대한 인증 덕분에 <span class=\"green-400\">보편적인 신뢰성을 제공</span>한다.\r\n\r\n대부분의 사기업 페이지에 적합한 인증서. OV 인증서는 <span class=\"lightBlue-400\">대부분의 사이트에 적용</span>되어 있으므로, 대충 번듯한 사이트 하나 들어가서 보면 된다. 지금 이 블로그도 GitHub가 주체라 OV 인증서를 확인할 수 있으니 참고할 것.\r\n\r\n## EV(Extended Validation)\r\n\r\n<span class=\"pink-400\">DV, OV인증과 더불어 법인 운영 담당자의 재직 증명, 법인 운영 기간 등 디테일한 요인을 검증</span>하여 발급하는 인증서다.\r\n\r\nOV의 경우 회사가 실재하는지를 검증한다면, <span class=\"pink-400\">EV</span>는 회사가 정상적으로 운영되는지를 검증한다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129820838-a87a8221-7785-49be-a3c2-26d0041b3295.png)\r\n\r\n인증서의 주체를 보면 도메인 정보, 회사 정보 외에도 다양한 정보가 추가되었음을 알 수 있다.\r\n\r\nEV의 인증서 정책은 <span class=\"orange-400\">2.23.140.1.1</span>이다. 이를 통해 해당 인증서가 DV임을 유추할 수도 있다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129820842-41c97a59-f306-48d7-abfc-e6a06fd8ccf4.png)\r\n\r\n또한 EV 인증서는 다른 인증서와 달리 인증서 자체에 회사 서명을 표시해준다. 위 사진을 기준으로 좌측이 EV, 우측이 OV 혹은 DV. Microsoft Chromium Edge 기준으로 위와 같이 표시해준다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129820843-1c77482f-bf84-47c4-a46b-ecfdf8149398.png)\r\n\r\n그 뿐만 아니라, IE로 접속했을 경우 주소창에 <span class=\"green-600\">Green Bar</span>를 적용하여 해당 도메인에 EV가 적용되었음을 시각적으로 알려준다. Chromium 기반 브라우저의 경우 시각적으로 표현해주진 않으니 참고할 것.\r\n\r\n인증서의 까다로운 심사절차로 인해 <span class=\"green-400\">발급하는데 걸리는 시간은 2주가 넘어가기도 하며, 비용 또한 매우 비싸다.</span> 하지만 <span class=\"red-400\">매우 강도 높은 신뢰성을 제공</span>한다.\r\n\r\n위와 같은 신뢰성 때문에, 이러한 신뢰성 보증이 필요한 공공기관, 금융권, 쇼핑몰과 같은 페이지에 사용된다. EV 인증서를 직접 보고싶다면, 아무 은행 홈페이지나 들어가보자.\r\n\r\n# 정리\r\n\r\nSSL이 적용되었는지 여부는 해당 사이트에 SSL 인증서가 있는지 여부를 통해 확인할 수 있다. 겉보기엔 SSL 인증서가 거기거 거기같지만 사실 그 종류만 해도 여러가지가 있으며, 인증서의 주체, 정책을 통해 현재 접속 중인 사이트의 SSL 종류를 확인할 수 있다.\r\n\r\nSSL을 적용하는 사이트의 성향에 따라 적합한 SSL 인증서를 발급받도록 하자.\r\n\r\n다음 장에서는 SSL 인증을 받기 위한 사전작업인 도메인 발급을 받아본다.","url":["2021-08-18-about-ssl-license","2021","08","18","about-ssl-license"]},{"header":{"title":"[SSL] SSL이란?","excerpt":"웹을 배포해본 적이 있다면 SSL에 대해 들어본 적이 있을 것이다. SSL이 적용된 URL의 프로토콜은 https://로 시작하며, http://와 달리 보안(Secure)을 의미하는 s가 붙는다. 지금 이 사이트의 주소도 https://rwb0104.github.io로 SSL이 적용된 걸 확인할 수 있다. NAVER나 Google도 마찬가지. 이 처럼 SSL은 굳이 웹 개발자에게만 친숙한 개념이 아니다. 누구나 인터넷을 사용했다면, 좋든 싫든 모두가 SSL을 접했다고 봐도 무방하다.","coverImage":"https://user-images.githubusercontent.com/50317129/129755999-c5d6c474-d5c0-442a-b7c5-37b3cdf703a9.png","date":"2021-08-18T00:26:08","type":"posts","category":"WEB","tag":["CS","객체지향","SSL","TLS"],"group":"SSL","comment":true,"publish":true},"name":"2021-08-18-about-ssl.md","content":"\r\n# 개요\r\n\r\n웹을 배포해본 적이 있다면 <span class=\"pink-600\">SSL</span>에 대해 들어본 적이 있을 것이다. SSL이 적용된 URL의 프로토콜은 `https://`로 시작하며, `http://`와 달리 <span class=\"blue-400\">보안(Secure)</span>을 의미하는 `s`가 붙는다. 지금 이 사이트의 주소도 [https://rwb0104.github.io](https://rwb0104.github.io)로 SSL이 적용된 걸 확인할 수 있다. [NAVER](https://naver.com)나 [Google](https://google.com)도 마찬가지. 이 처럼 SSL은 굳이 웹 개발자에게만 친숙한 개념이 아니다. 누구나 인터넷을 사용했다면, 좋든 싫든 모두가 SSL을 접했다고 봐도 무방하다.\r\n\r\n# SSL(Secure Socket Layer)\r\n\r\n그렇다면 이 <span class=\"pink-600\">SSL</span>이란 놈은 뭘까? SSL은 Secure Socket Layer의 약자로, 직역하면 암호화 소켓층이다. 1994년 Netscape사에서 처음 개발되어 3.0 버전까지 존재한다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129691442-090810ed-30c5-4245-aa9d-9dd785f621a6.png)\r\n\r\nSSL이란, <span class=\"amber-400\">웹 서버와 클라이언트의 통신 암호화 프로토콜</span>이다.\r\n\r\nSSL이 적용되지 않은 통신의 경우, 위 그림과 같이 평문(Plain Text)가 그대로 전송된다. 만약 제 3자가 어떠한 방식으로든 통신 패킷을 탈취할 경우, 그 내용을 쉽게 확인할 수 있다.\r\n\r\n통신 내용에 시덥잖은 것만 있다면 다행이겠지만, 사용자의 개인 정보나, 결제 정보와 같은 민감한 정보의 통신이라면 얘기가 달라진다.\r\n\r\nSSL을 적용한다면 이러한 문제를 기술적으로 해결할 수 있다. 요청을 암호화해서 보내므로 통신 패킷이 탈취되도 복호화 키가 없으면 원래 내용을 알 수 없기 때문이다.\r\n\r\n## TLS(Transport Layer Security)\r\n\r\nSSL을 접하다보면 <span class=\"pink-600\">TLS</span>라는 개념도 접하게 된다. 찾다보면 SSL이랑 TLS랑 혼재되어있기도 하고.\r\n\r\nSSL은 1996년에 3.0 버전이 출시되었으며, 보안취약점으로 인해 현재는 퇴출된 상태다.\r\n\r\nTLS는 국제 인터넷 표준화 기구(IETF)에서 개발한 것으로, SSL 3.0의 보안취약점을 보완한 통신 보안 프로토콜이다. 현재 TLS는 2018년 1.3 버전이 출시됏다.\r\n\r\nSSL을 보완한 것이 TLS지만, 인터넷에 적용되는 통신 보안 프로토콜을 전부 통틀어서 SSL이라 부른다.\r\n\r\n실상은 2015년에 SSL의 마지막 버전인 3.0 마저 금지됐다. 현재 사용 중인 프로토콜은 모두 TLS다.\r\n\r\n# SSL의 특징\r\n\r\n1. URL 프로토콜은 `https`이며, 기본 포트는 `443`이다.\r\n2. 통신 데이터가 암호화되어, 패킷이 탈취되는 사고가 발생해도 데이터를 지킬 수 있다.\r\n3. SSL 인증서를 통해 도메인의 신뢰성을 검증할 수 있다.\r\n4. 데이터 송/수신 과정에서 암/복호화가 발생하므로 속도가 느리다.\r\n\r\n# SSL의 원리\r\n\r\nSSL의 통신하는 원리는 아래와 같으며, 이러한 일련의 과정을 HandShake라 한다. 클라이언트와 서버 간의 요청/응답을 반복하며 통신에 필요한 사전 작업을 하는게 마치 악수 같아 붙여졌다고 한다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129752108-1423e7cf-3c4c-4e4c-a77a-7a76d208d7f8.png)\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large amber-600\">1. ClientHello 요청</p>\r\n\r\n클라이언트가 특정 주소에 접근하면, 해당하는 서버에 요청을 보낸다. [NAVER](https://naver.com)에 접근하면 네이버 서버에 요청을 보내게 된다.\r\n\r\n* 난수 데이터\r\n* 암호화 프로토콜 정보 (프로토콜, 버전 등)\r\n* 클라이언트가 사용 가능한 암호화 기법\r\n* 세션 아이디\r\n* 기타 확장 정보\r\n\r\n이 요청에는 위와 같은 정보들이 포함되어있다. 클라이언트의 주요 정보를 서버에 전송하여, 해당 클라이언트를 식별하고, 어떤 암호화를 사용할 수 있는 지 등의 정보를 서버가 인지하도록 한다.\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large amber-600\">2. ServerHello 응답</p>\r\n\r\n서버가 ClientHello 요청을 받으면, 위의 정보를 담아 클라이언트에게 일종의 화답을 보낸다.\r\n\r\n* 난수 데이터 (ClientHello의 데이터와 다름)\r\n* 서버가 사용할 암호화 기법\r\n* 인증서\r\n  * CA\r\n  * 도메인\r\n  * 공개키\r\n\r\n난수 데이터는 ClientHello에서 보낸 데이터과 아무런 상관관계가 없는 별개의 데이터다.\r\n\r\n클라이언트가 사용 가능하다고 통보한 암호화 기법 중 서버에서 활용할 암호화 기법을 전달하여 동일한 암호화 기법으로 송수신할 수 있도록 선언한다.\r\n\r\n인증서 정보와 함께, 서버와의 암호화 통신을 위한 서버 공개키가 전달된다. 서버의 공개키로 데이터를 암호화하면 서버는 이를 받아 개인키로 복호화하여 요청을 분석할 수 있다.\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large amber-600\">3. 인증서 검토</p>\r\n\r\n서버가 전달한 인증서가, 실제 해당 서버의 인증서인지, 신뢰할 수 있는 CA에서 발급된 것인지, 실제 해당 CA에서 발급받았는지 등 인증서를 검토한다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129752361-4831de06-e99b-4f0c-9862-fe1f8ab5642a.png)\r\n\r\n인증서에 이상이 없다면 주소창에 위와 같이 표시된다. (Microsoft Chromium Edge 기준)\r\n\r\n만약 문제가 있다면 아래와 같은 창을 보게 될 것이다.\r\n\r\n![image](https://user-images.githubusercontent.com/50317129/129752602-f9967221-3b82-487f-91c4-7fefc1cf3e94.png)\r\n\r\n이는 브라우저가 사용자에게 보내는 경고문으로, 해당 사이트의 인증서가 올바르지 않으므로 신뢰할 수 없다고 경고하는 것이다.\r\n\r\n물론 사이트 관리자의 실수로 인증서가 만료됐거나, 잘못된 인증서를 교체해서 발생한 사소한 이유일 수도 있다. 하지만 낮선 사이트를 접속하는데 이와 같은 경고가 뜬다면, 정상적인 방법으로 인증서를 발급받을 수 없는 사이트일 가능성이 있으므로 접근을 자제하자.\r\n\r\n악의가 없는 사이트일지라도, 사용자의 데이터는 보호해주지 못 하니 주의할 것.\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large amber-600\">4. Premaster Secret 송수신</p>\r\n\r\nClientHello, ServerHello에서 송수신한 난수 데이터를 조합하여 Premaster Secret을 생성한다.\r\n\r\n이를 ServerHello에서 전달받았던 공개키로 암호화한다. 이 데이터는 서버가 가진 개인키로만 복호화가 가능하다. 즉, 이 데이터는 탈취된다 하더라도 그 내용이 보호된다.\r\n\r\n서버는 수신된 데이터를 복호화하여 클라이언트와 동일한 Premaster Secret을 저장할 수 있다.\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large amber-600\">5. 통신 키 생성</p>\r\n\r\n보유한 Premaster Secret을 토대로 Master Secret, Session Key를 생성한다. 이를 통해 클라이언트와 서버가 동일한 키를 보유하게 되므로 자신들끼리의 암호화 통신이 가능하다.\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large amber-600\">6. 데이터 송수신</p>\r\n\r\n필요한 데이터는 저장된 Session Key를 통한 대칭키 암호화 방식으로 암/복호화하여 통신한다.\r\n\r\n<br />\r\n<br />\r\n\r\n<p class=\"large amber-600\">7. 세션 종료</p>\r\n\r\n클라이언트와의 연결이 끊겼을 경우 사용했던 Session Key는 폐기한다.\r\n\r\n# 정리\r\n\r\nSSL은 통신 패킷을 암호화하여 패킷 탈취, 정보 누출 등을 방지하기 위한 보안 프로토콜이다.\r\n\r\n현재는 모두 TLS로 교체되었지만, SSL 자체가 고유명사되어 넓은 의미의 통신 보안 프로토콜을 명칭하는 의미로 쓰인다.\r\n\r\n현대에 이르러서는 웹 배포에 있어서 필수적인 사항이므로, 내용을 잘 이해하자.\r\n\r\n다음 장에서는 SSL 인증서에 대해 다룬다.","url":["2021-08-18-about-ssl","2021","08","18","about-ssl"]},{"header":{"title":"URI? URL? URN? 리소스 식별자 구분하기","excerpt":"우리가 인터넷 상에서 특정한 데이터에 접근할 때 URL이라는 것을 활용하여 접근한다. 원하는 자료의 URL을 얻으면, 브라우저 같은 HTTP 통신 프로그램에 해당 URL을 호출하여 응답을 얻는 것이다.","coverImage":"https://user-images.githubusercontent.com/50317129/120028437-a63ddc80-c02f-11eb-9d41-7c50d7002a42.png","date":"2021-05-29T03:30:17","type":"posts","category":"WEB","tag":["WEB(웹)","URI","URL","URN"],"comment":true,"publish":true},"name":"2021-05-29-uri-url-urn.md","content":"\r\n# URL! URI... URN??\r\n\r\n우리가 인터넷 상에서 **특정한 데이터**에 접근할 때 <span class=\"primary\">URL</span>이라는 것을 활용하여 접근한다.  \r\n원하는 자료의 <span class=\"primary\">URL</span>을 얻으면, 브라우저 같은 HTTP 통신 프로그램에 해당 <span class=\"primary\">URL</span>을 호출하여 응답을 얻는 것이다.\r\n\r\n개발자나, 굳이 개발자가 아니더라도 관련 정보를 찾다보면 심심치않게 <span class=\"primary\">URI</span>라는 용어를 접하게 된다.  \r\nI와 L의 오묘한 유사성 때문에 아예 <span class=\"primary\">URI</span>를 <span class=\"primary\">URL</span>로 오독하는가 하면, 오타라고 생각하는 사람도 더러 있을 것이다.  \r\n하지만 <span class=\"primary\">URL</span>과 <span class=\"primary\">URI</span>는 그 의미가 비슷하면서도 살짝 다르다.\r\n\r\n누구나 알고있는 <span class=\"primary\">URL</span>과 아리까리한 <span class=\"primary\">URI</span>, 생소한 <span class=\"primary\">URN</span>. 이들에 대해 알아보자\r\n\r\n# UR* 톱아보기\r\n\r\n<span class=\"primary\">URI</span>, <span class=\"primary\">URL</span>, <span class=\"primary\">URN</span>은 구조상 서로 연관이 있다.\r\n\r\n## URI(Uniform Resource Identifier, 통합 자원 식별자)\r\n\r\n<span class=\"primary\">URI</span>는 우리말로 **통합 자원 식별자**라고 한다. <span class=\"primary\">URI</span>는 앞서 말한 <span class=\"primary\">URL</span>, <span class=\"primary\">URN</span>을 포함하는 상위 개념으로, <span class=\"orange-400\">인터넷 상에 존재하는 **자원을 구분**하는 식별자</span>라 할 수 있다. 웹 상에서 자원을 식별하는 모든 수단이 곧 <span class=\"primary\">URI</span>이라 할 수 있다.\r\n\r\n## URL(Uniform Resource Locater, 통합 자원 지시자)\r\n\r\n<span class=\"primary\">URL</span>은 굳이 우리말로 하자면 **통합 자원 지시자**라고 할 수 있겠지만, 흔히 인터넷 상에서 **주소**라 함은 99% 이 <span class=\"primary\">URL</span>을 의미한다. 1994년 **RFC-1738**에 정의되어있다.  \r\n<span class=\"primary\">URL</span>은 **Locater**라는 키워드에 걸맞게 <span class=\"orange-400\">인터넷 상에 존재하는 자원의 **위치**를 나타내는 식별자</span>라 할 수 있다. 여기서 **위치**라는 키워드에 주목하자. <span class=\"primary\">URL</span>은 자원의 위치정보를 가지므로, 어떠한 이유로든 자원의 위치가 변경되면 <span class=\"primary\">URL</span>은 자원을 찾을 수 없으며, 변경된 위치를 추적할 수도 없다. 이 때 맞이하게 되는 HTTP 오류가 누구나 알고있는 404 Not Found다.  \r\n당장 내가 이 게시물의 이름을 한 글자만 변경해도, 지금까지의 <span class=\"primary\">URL</span>은 아무 쓸모가 없어지며, 사용자들 또한 해당 <span class=\"primary\">URL</span>로 이 게시물에 접근할 수 없다. 또한, 이 <span class=\"primary\">URL</span>을 통해 원래 있던 게시물의 <span class=\"primary\">URL</span>을 논리적으로 유추할 수도 없다.\r\n\r\n## URN(Uniform Resource Name, 통합 자원 이름)\r\n\r\n<span class=\"primary\">URN</span>은 **통합 자원 이름**이다. 눈치가 빠른 분들은 아시겠지만, <span class=\"primary\">URN</span>은 <span class=\"orange-400\">인터넷 상에 존재하는 자원의 **이름**을 나타내는 식별자</span>다. 자원의 이름은 고유한 값을 가지므로, 인터넷 상의 수 많은 자원들 중 특정 자원을 식별할 수 있는 것이다.  \r\n<span class=\"primary\">URN</span>은 대부분 위에 언급한 두 개념에 비해 생소할 것이다. 그도 그럴 것이, <span class=\"primary\">URN</span>은 위 두 개념보다 훨씬 뒤에 나온 개념이기 때문이다. 1997년 **RFC-2141**에 정의되어있다. <span class=\"primary\">URL</span>보다 3년 뒤에 출범하여 그 역사가 상대적으로 짧다.  \r\n\r\n<span class=\"primary\">URL</span>의 치명적인 단점은 **위치**정보 외에 다른 정보를 저장하지 않는다. 이 상황에서 해당 자원을 찾아야 한다면? 안타깝게도 <span class=\"primary\">URL</span>만으로는 찾아낼 수 없다. 구글링해서 운 좋게 찾아낸다면 모를까.  \r\n반면 <span class=\"primary\">URN</span>을 사용한다면 어떨까? 위치가 아무리 변경된다 하더라도, 자원의 고유한 이름을 통해 찾기 때문에 자원이 웹 상에서 완전히 삭제된 게 아니라면 손쉽게 찾아낼 수 있을 것이다.\r\n\r\n## 정리\r\n\r\n난 어려운 개념을 이해할 때 현실세계와 연관지어 이해하는 걸 좋아한다. 위 세 개념을 현실에서 특정 사람의 신원을 확인하는 과정과 접목해서 정리하면 아래와 같이 정리할 수 있을 것 같다.\r\n\r\n| 구분  |              현실               |         값          |\r\n| :---: | :-----------------------------: | :-----------------: |\r\n| 자원  |             나 자신             |         나          |\r\n|  URI  | 나를 식별할 수 있는 모든 식별자 |          -          |\r\n|  URL  |         내가 사는 주소          | 서울특별시 A구 가동 |\r\n|  URN  |         내 주민등록번호         |   000000-0000000    |\r\n\r\n<span class=\"small red-A400\">※ URN은 모든 자원의 고유값이므로, 사람과 연관지었을 때, 중복 가능성이 있는 이름 보다는 고유값인 주민등록번호가 더 적합하다.</span>\r\n\r\n예를 들어, 내 정보가 위와 같다고 가정해보자. 내가 사는 주소 및 내 주민등록번호 모두 내 신원을 확인할 수 있는 방식(<span class=\"primary\">URI</span>)이므로, 나를 찾기에 적합하다.  \r\n만약 내 주소(<span class=\"primary\">URL</span>)를 통해 확인할 경우, 내가 이사(자원의 이동)를 가게 되면 해당 주소엔 아무것도 없으며, 날 찾을 수도 없다(404 HTTP 에러). 또한, 내가 예전에 살던 주소만으로 내가 이사간 주소를 유추해낼 수도 없을 것이다.\r\n\r\n반면, 내 주민등록번호(<span class=\"primary\">URN</span>)을 통해 확인할 경우, 내 주민등록번호와 매칭되는 사람을 찾는 것으로 나를 식별할 수 있다. 이 과정에서 내가 어디에 있는지는 전혀 중요치 않은 것이다. 주민등록번호 자체가 말소(자원 삭제)되지 않는 한, 내가 어디에서 무엇을 하고있든 내 신원을 확인할 수 있다.\r\n\r\n# 구조\r\n\r\n그렇다면 이들은 어떻게 생겼는지 알아보자. <span class=\"primary\">URI</span>는 자원의 식별자를 포괄하여 지칭하는 개념 그 자체이므로, 구조라고 할 건 없다. 하위 개념인 <span class=\"primary\">URL</span>, <span class=\"primary\">URN</span>에 대해 알아보자.\r\n\r\n## URL 구조\r\n\r\n<span class=\"primary\">URL</span>은 아래와 같은 구조로 이루어진다. 매우 익숙할 것이다.\r\n\r\n<p class=\"large\" align=\"center\"><span class=\"lightBlue-400\">https</span>://<span class=\"green-400\">rwb0104</span>.<span class=\"yellow-400\">github</span>.<span class=\"pink-400\">com</span>:<span class=\"amber-400\">443</span>/<span class=\"cyan-400\">posts</span><span class=\"teal-400\">?category=WEB&page=1</span></p>\r\n\r\n구조별로 색상을 입혔으며, 순서대로 기술한다.\r\n\r\n### Protocol(프로토콜)\r\n\r\n<span class=\"primary\">URL</span>상의 <span class=\"lightBlue-400\">https</span> 부분.\r\n\r\n통신규약을 의미한다. 작성일 기준으로, 이 규약엔 계층별로 많은 <span class=\"lightBlue-400\">프로토콜</span>이 존재하는데, 웹 통신을 수행할 땐 크게 두 가지로 나뉜다.\r\n\r\n| 구분  |              내용              |\r\n| :---: | :----------------------------: |\r\n| HTTP  | W3 상에서의 HTML 문서 통신규약 |\r\n| HTTPS |    암호화된 HTTP 통신 규약     |\r\n\r\n현재는 포털, 쇼핑몰같은 대형 비즈니스 사이트나 블로그, 카페 등 중소규모의 개인 사이트까지 <span class=\"red-A400\">HTTPS의 사용이 반 강제적으로 권장</span>되어 있다. 특히 전자상거래가 접목된 비즈니스 사이트의 경우 필수로 적용해야 한다. 더군다나 <span class=\"red-A400\">HTTPS가 적용되지 않는 사이트(localhost 제외)에 접근할 경우 브라우저 측에서 보안 관련 경고 메시지</span>를 띄우니, 규모에 관계없이 웹 사이트를 운영할 경우 HTTPS는 필수로 적용하는 편이다.\r\n\r\n### SLD(Second Level Domain, 서브도메인, 호스트)\r\n\r\n<span class=\"primary\">URL</span>상의 <span class=\"green-400\">rwb0104</span> 부분.\r\n\r\n도메인 앞에 붙으며, <span class=\"green-400\">서브도메인</span>을 통해 하나의 <span class=\"yellow-400\">도메인</span>으로 다중 서비스를 제공할 수 있다. 하나의 <span class=\"yellow-400\">도메인</span>에 여러 <span class=\"green-400\">서브도메인</span>을 생성할 수 있으며, 우리가 흔히 아는 `www` 외에도 `dev`, `admin`, `m` 용도에 따라 다양한 문자열을 지정할 수 있다.\r\n\r\n|                  URL                   |                                          내용                                          |\r\n| :------------------------------------: | :------------------------------------------------------------------------------------: |\r\n|     [naver.com](https://naver.com)     | 기본 네이버 홈페이지. 각 플랫폼(데스크탑, 모바일 등)에 가장 적합한 사이트로 리다이렉트 |\r\n| [www.naver.com](https://www.naver.com) |                               데스크탑용 네이버 홈페이지                               |\r\n|   [m.naver.com](https://m.naver.com)   |                                모바일용 네이버 홈페이지                                |\r\n| [map.naver.com](https://map.naver.com) |                                      네이버 지도                                       |\r\n\r\n위는 네이버 서비스의 <span class=\"green-400\">서브도메인</span>으로, `naver.com` <span class=\"yellow-400\">도메인</span>을 중심으로 각기 다른 서비스를 제공하는 것을 확인할 수 있다.\r\n\r\n### Domain(도메인)\r\n\r\n<span class=\"primary\">URL</span>상의 <span class=\"yellow-400\">github</span> 부분.\r\n\r\nURL의 중심이 되는 부분으로, 제공하는 웹 서비스의 아이덴티티 역할을 겸한다. 때문에 <span class=\"yellow-400\">도메인</span>에는 대부분 해당 웹 서비스의 이름이 들어간다.\r\n\r\n|  서비스   |                  URL                   |\r\n| :-------: | :------------------------------------: |\r\n|  네이버   |     [naver.com](https://naver.com)     |\r\n|   다음    |  [www.daum.com](https://www.daum.com)  |\r\n|  GitHub   |    [github.com](https://github.com)    |\r\n| Instagram | [instagram.com](https://instagram.com) |\r\n\r\n대부분의 서비스가 <span class=\"yellow-400\">도메인</span>으로 서비스의 이름을 사용하고 있다.\r\n\r\n### TLD(Top Level Domain, 최상위 도메인)\r\n\r\n<span class=\"primary\">URL</span>상의 <span class=\"pink-400\">com</span> 부분.\r\n\r\n<span class=\"pink-400\">최상위 도메인</span>이란, 앞서 언급한 <span class=\"green-400\">서브도메인</span>, <span class=\"yellow-400\">도메인</span>을 관리하는 업체 혹은 기관이라고 볼 수 있다.  \r\n앞서 언급한 개념의 경우, 중복되지 않는 선에서 사용자가 임의로 지정할 수 있다. 하지만 <span class=\"pink-400\">최상위 도메인</span>의 경우 현재 운영 중인 업체나 기관 중 하나를 **선택**해서 등록해야 한다. <span class=\"pink-400\">최상위 도메인</span>을 선택할 경우, 당신의 도메인은 해당 <span class=\"pink-400\">최상위 도메인</span>을 운영하는 곳에서 관리하게 된다.  \r\n\r\n<span class=\"pink-400\">최상위 도메인</span>은 운영 주체에 따라 두 가지로 나뉜다.\r\n\r\n#### ccTLD(country code TLD, 국가 코드 최상위 도메인)\r\n\r\n국가를 나타내는 <span class=\"pink-400\">최상위 도메인</span>이다.\r\n\r\n| ccTLD |     내용      |\r\n| :---: | :-----------: |\r\n|  .kr  |  한국(KISA)   |\r\n|  .us  |   미국(LLC)   |\r\n|  .jp  |     일본      |\r\n|  .io  | 영국령 인도양 |\r\n\r\n<span class=\"pink-400\">ccTLD</span>는 위 표와 같이 국가 코드 형태이며, 각 국가기관이 직접 관리한다. 즉, `.kr`을 가진 모든 도메인은 **한국의 KISA(한국 인터넷 진흥원)에서 관리**한다.\r\n\r\n#### gTLD(generic TLD, 일반 최상위 도메인)\r\n\r\n사이트 혹은 사이트를 소유한 조직, 기관의 특성에 따라 사용하는 <span class=\"pink-400\">최상위 도메인</span>이다.\r\n\r\n| gTLD  |       내용        |\r\n| :---: | :---------------: |\r\n| .com  | 영리 단체 및 기관 |\r\n| .net  | 네트워크 관리기관 |\r\n| .org  |    비영리 기관    |\r\n| .gov  |     정부 기관     |\r\n\r\n<span class=\"pink-400\">gTLD</span>는 위 표와 같이 다양한 종류가 있으며, 그 중 몇몇은 자주 접했을 것이다. 정부기관이 왜 여기있나 생각할 수도 있는데, <span class=\"pink-400\">ccTLD</span>는 **국가 코드**만 해당된다. 국가 예하의 정부기관, 군사조직 등은 구분 상 <span class=\"pink-400\">gTLD</span>로 분류된다.  \r\n마찬가지로, 각 <span class=\"pink-400\">최상위 도메인</span>은 **해당 <span class=\"pink-400\">최상위 도메인</span>을 소유한 기관 혹은 기업에서 관리**한다.\r\n\r\n> 현재 운영 중인 <span class=\"pink-400\">최상위 도메인</span>은 [IANA](https://www.iana.org/domains/root/db)에서 확인할 수 있다.\r\n\r\n여담으로, <span class=\"pink-400\">최상위 도메인</span>에 중복된 <span class=\"yellow-400\">도메인</span>을 등록할 수 없다. 예를 들어, 내가 `aaa.com` URL을 등록한다고 가정해보자.  \r\n우선 제일 먼저 `.com`을 관리하는 업체에 `aaa`라는 <span class=\"yellow-400\">도메인</span>을 등록해야 한다. 하지만, 이미 누군가가 `aaa.com`을 등록했다면 해당 소유주가 <span class=\"yellow-400\">도메인</span>의 소유권을 포기하기 전까진 `aaa.com` <span class=\"yellow-400\">도메인</span>을 소유할 수 없다.  \r\n물론 `.com`이 아닌 `.kr`이나 `.net`에는 등록할 수 있다. 하지만 `socket.io` 처럼 <span class=\"yellow-400\">도메인</span>과 <span class=\"pink-400\">최상위 도메인</span>까지 의미론적으로 구성했다면, 이러한 상황이 달갑지 않을 것이다. 때문에 일전에 이슈됐던 <span class=\"primary\">덮죽 상표권 선점</span>과 비슷한 일이 일어나기도 한다.\r\n\r\n## Port(포트)\r\n\r\n<span class=\"primary\">URL</span>상의 <span class=\"amber-400\">443</span> 부분. 앞에 반드시 `:`이 붙는다.\r\n\r\n인터넷에 연결된 모든 디바이스는 사용하는 네트워크의 IP를 할당받는다. 할당받은 IP 내에서 해당 디바이스가 수행 중인 모든 프로세스의 통신이 이루어진다. <span class=\"amber-400\">포트</span>는 프로세스의 데이터가 IO되는 통로다. 작업 시, 각 프로세스 별로 고유한 <span class=\"amber-400\">포트</span>를 할당받으며, 하나의 <span class=\"amber-400\">포트</span>는 반드시 하나의 프로세스와 1:1 매칭된다. 반면, 하나의 프로세스는 여러 <span class=\"amber-400\">포트</span>를 할당받을 수 있다.  \r\n**특정 프로세스와 통신하기 위해선 반드시 해당 프로세스가 할당받은 <span class=\"amber-400\">포트</span>에 데이터를 전송**해야 한다. 때문에 <span class=\"amber-400\">포트</span> 통신은 어떤 <span class=\"amber-400\">포트</span>가 보내는지는 크게 중요하지 않으며, 어떤 <span class=\"amber-400\">포트</span>로 보내는지가 중요하다.\r\n\r\n웹 통신에서의 기본<span class=\"amber-400\">포트</span>는 아래와 같다.\r\n\r\n| 포트  |      내용       |\r\n| :---: | :-------------: |\r\n|  80   | HTTP 기본 포트  |\r\n|  443  | HTTPS 기본 포트 |\r\n\r\n아마 이러한 숫자를 처음 볼 수도 있는데, 대부분의 웹 사이트 <span class=\"primary\">URL</span>에는 <span class=\"amber-400\">포트</span>를 확인할 수 없다. 사이트가 **각 프로토콜의 기본 <span class=\"amber-400\">포트</span>로 서비스될 경우, <span class=\"primary\">URL</span>에서 <span class=\"amber-400\">포트</span>를 생략**할 수 있다. 즉, `https://naver.com`의 <span class=\"amber-400\">포트</span>번호는 `443`이지만, `443`은 HTTPS의 기본 <span class=\"amber-400\">포트</span>이므로 생략된다. 만약, `443`이 아닌 `8080`, `9200`과 같은 **임의의 <span class=\"amber-400\">포트</span>로 서비스를 제공할 경우, <span class=\"amber-400\">포트</span>를 반드시 명시해야하므로 생략이 불가능**하다. 이 경우 <span class=\"primary\">URL</span>은 `https://naver.com:8080`이 될 것이다.  \r\n위와 같은 이유로, 대부분의 웹 사이트는 서비스하는 프로토콜에 맞는 기본 <span class=\"amber-400\">포트</span>를 사용한다.\r\n\r\n<span class=\"amber-400\">포트</span>는 **0 ~ 65535**의 범위를 가지며, 크게 세 가지로 구분할 수 있다.\r\n\r\n### 잘 알려진 포트(well-known Port)\r\n\r\n**0 ~ 1023**의 범위에 해당하는 <span class=\"amber-400\">포트</span>. 이 <span class=\"amber-400\">포트</span>들은 컴퓨터에서 기본적으로 사용되는 주요 프로세스에 기본적으로 할당되는 포트로, ICANN(Internet Corporation for Assigned Names and Numbers, 국제 인터넷주소 관리기구)에 의해 통제된다.\r\n\r\n|  포트  |  기능  |        용도        |\r\n| :----: | :----: | :----------------: |\r\n| 20, 21 |  FTP   |    파일 송수신     |\r\n|   22   |  SFTP  | 파일 암호화 송수신 |\r\n|   23   | Telnet |    터미널 통신     |\r\n|   25   |  SMTP  |     메일 전송      |\r\n|   53   |  DNS   |      DNS 통신      |\r\n|   67   |  DHCP  |     DHCP 통신      |\r\n|   80   |  HTTP  |     HTML 통신      |\r\n|  443   | HTTPS  |  HTML 암호화 통신  |\r\n\r\n어디까지나 초기에 지정되는 <span class=\"amber-400\">포트</span>이므로, 추후 **사용자의 의도에 따라 비어있는 다른 포트로 변경**할 수도 있다. 즉, 초기값일뿐, 강제는 아니다.\r\n\r\n### 등록된 포트(registered Port)\r\n\r\n**1024 ~ 49151**의 범위에 해당하는 <span class=\"amber-400\">포트</span>. 이 <span class=\"amber-400\">포트</span>들은 컴퓨터의 기본 프로세스는 아니지만, 주요 프로그램들이 기본으로 사용하고자 ICANN에 등록한 <span class=\"amber-400\">포트</span>다. <span class=\"amber-400\">잘 알려진 포트</span>와 마찬가지로 프로그램의 설정을 통해 **사용자의 의도에 따라 비어있는 다른 포트로 변경**할 수 있다.\r\n\r\n| 포트  |         기능         |             용도             |\r\n| :---: | :------------------: | :--------------------------: |\r\n| 1433  |        MSSQL         |        MSSQL DB 통신         |\r\n| 3306  |        MySQL         |        MySQL DB 통신         |\r\n| 3389  |         RDP          | 원격 데스크톱 접근 (Windows) |\r\n| 5432  |      PostgreSQL      |      PostgreSQL DB 통신      |\r\n| 8080  | HTTP 통신(Tomcat 등) |   HTTP 통신 (80포트 대용)    |\r\n| 27017 |       MongoDB        |         MongoDB 통신         |\r\n\r\n주로 <span class=\"primary\">DB</span>같은 개발 관련 프로그램들이 많이 등록돼있다.\r\n\r\n#### 왜? 하필 개발 관련 프로그램들만?\r\n\r\n개발 관련 프로그램들은 그 특성 상 통신의 방식이 **항상 일정**해야 한다. 만약 DB의 <span class=\"amber-400\">포트</span>가 기동할 때마다 수시로 변경된다면 어떨까? 이유를 막론하고 DB가 재기동될 경우, 개발자는 DB가 사용 중인 임의의 <span class=\"amber-400\">포트</span>를 추적하여 프로그램의 DB 통신 코드를 변경해야하는 매우 불합리한 상황이 발생하게 된다.  \r\n\r\n이에 비해 게임이나 IDE 같은 일반적인 프로그램들은 굳이 통신의 방식이 일정할 필요는 없다. 어찌됐든 **서버에 정보를 요청하는 순간, 서버는 자연스레 내 통신 정보를 알게되기 때문**이다. 서버는 요청했던 경로로 다시 데이터를 반환해주면 된다. 어떤 <span class=\"amber-400\">포트</span>가 보내는지는 별로 중요하지 않는 이유가 여기에 있다.\r\n\r\n### 동적 포트(dynamic Port)\r\n\r\n**49152 ~ 65535**의 범위에 해당하는 <span class=\"amber-400\">포트</span>. 대다수의 프로그램들은 <span class=\"amber-400\">포트</span> 기본값이 지정되지 않는 경우가 대부분이다. 이러한 프로그램들은 <span class=\"amber-400\">동적 포트</span> 중 사용 가능한 임의의 빈 <span class=\"amber-400\">포트</span>를 자동으로 점유한다. 때문에 ICANN이 관리하지도 않으며, 특정 프로그램이 고유한 <span class=\"amber-400\">포트</span>로 등록되어있지도 않다. 자유석을 생각하면 편하다.\r\n\r\n### Path(경로)\r\n\r\n<span class=\"primary\">URL</span>상의 <span class=\"cyan-400\">posts</span> 부분. 웹 사이트의 하위 경로를 의미한다. <span class=\"cyan-400\">경로</span>는 `/`로 구분하며, 경로 입력을 통해 서버 내의 원하는 자원에 접근할 수 있다.\r\n\r\n* https://rwb0104.github.io\r\n  * posts\r\n    * index.html\r\n    * a1000\r\n      * index.html\r\n    * a1001\r\n      * index.html\r\n    * uri-url-urn\r\n      * index.html\r\n  * project\r\n    * index.html\r\n  * index.html\r\n\r\n위 트리는 이 블로그의 단편적인 디렉토리 예시다. 이 중 해당 게시물에 접근하려면 <span class=\"cyan-400\">경로</span>는 `/posts/uri-url-urn/index.html`와 같이 구성할 수 있다. <span class=\"primary\">index.html은 생략이 가능</span>하므로 `/posts/uri-url-urn`로 접근해도 무방하다.\r\n\r\n> **아시나요?**  \r\n> **index.html** 경로의 기본 HTML을 의미함. 더이상의 하위 경로를 표시하지 않을 경우, 해당 경로의 index.html를 응답한다.\r\n\r\n<span class=\"cyan-400\">경로</span>는 서버의 구조에 따라 결정되므로, 사이트마다 천차만별이다.\r\n\r\n### Query String(쿼리 문자열)\r\n\r\n<span class=\"primary\">URL</span>상의 <span class=\"teal-400\">?category=WEB&page=1</span> 부분. 해당 <span class=\"cyan-400\">경로</span>에 임의의 데이터를 같이 전송할 때 사용한다.  \r\n<span class=\"primary\">key=value</span> 형태로 이루어지며, 각 `key`는 <span class=\"purple-400\">Parameter(파라미터)</span>라 칭한다. 첫 <span class=\"purple-400\">파라미터</span>는 `?`로 시작하며, 이후 각 <span class=\"purple-400\">파라미터</span>들은 `&`으로 구분된다. 즉 `?key1=value1&key2=value2&key3=value3`과 같은 양식으로 전개된다.\r\n\r\n임의의 키워드를 전달하여 페이지의 동작을 제어할 수 있다. <span class=\"primary\">URL</span> 중 **사용자의 니즈가 가장 활발하게 반영**되는 부분. <span class=\"teal-400\">쿼리 문자열</span>은 각각의 `key`에 대한 역할을 정의해야 하므로, 개발자가 각 <span class=\"purple-400\">파라미터</span>의 `key`가 동작하는 로직을 작성했을 때 그 의미가 있다.\r\n\r\n## URN 구조\r\n\r\n지금까지 <span class=\"primary\">URL</span>에 대해선 상당히 장황하게 설명했지만, <span class=\"primary\">URN</span>의 경우 <span class=\"primary\">URL</span>보다 역사가 짧다. 이미 3년이라는 시간 사이에 <span class=\"primary\">URL</span>이 표준으로 자리매김한 탓에, 현재까지도 비주류를 면치 못 해 구현된 예시도 그리 많지 않은게 현실이다.  \r\n<span class=\"primary\">URL</span>이 위치만 바뀌어도 찾을 수 없다는 단점은, 오히려 제공중인 데이터를 은닉하는 측면 등 상황에 따라 오히려 유용하게 사용할 여지도 있다. 즉, <span class=\"primary\">URL</span>의 단점이 마냥 나쁜것만은 아닌 셈이다. 이는 곳 <span class=\"primary\">URN</span>의 장점이 현재 구축된 <span class=\"primary\">URL</span>체계를 갈아 엎을 정도로 매력적이지 않다는 주장을 뒷받침한다.\r\n\r\n<span class=\"primary\">URN</span>은 아래와 같은 구조로 이루어진다. 각 요소는 `:`으로 구분한다.\r\n\r\n<p class=\"large\" align=\"center\"><span class=\"lightBlue-400\">urn</span>:<span class=\"green-400\">isbn</span>:<span class=\"yellow-400\">1234567890</span></p>\r\n\r\n### Protocol(프로토콜)\r\n\r\n<span class=\"primary\">URN</span>상의 <span class=\"lightBlue-400\">urn</span> 부분. `urn`으로 시작하면 <span class=\"primary\">URN</span>체계로 보면 된다.\r\n\r\n### NID(Namespace Identifier, 네임스페이스 지시자)\r\n\r\n<span class=\"primary\">URN</span>상의 <span class=\"green-400\">isbn</span> 부분. **자원이 저장된 저장소**를 표시한다.  \r\n`isbn`은 서지정보유통지원시스템으로 도서 일련번호에 대한 정보를 저장하는 저장소이다. 즉, `isbn`을 <span class=\"green-400\">NID</span>로 지정하면 도서 관련 자원을 식별할 수 있다.\r\n\r\n### NSS(Namespace Specific String, 네임스페이스 특정 문자)\r\n\r\n<span class=\"primary\">URN</span>상의 <span class=\"yellow-400\">1234567890</span> 부분. **자원을 식별할 수 있는 고유값**이다.  \r\n<span class=\"green-400\">NID</span>가 `isbn`으로 지정되어 있으므로, ISBN의 일련번호가 1234567890인 도서를 식별하는 <span class=\"primary\">URN</span>이라 볼 수 있다.","url":["2021-05-29-uri-url-urn","2021","05","29","uri-url-urn"]},{"header":{"title":"도메인이란?","excerpt":"도메인을 이해하기 위해선, IP에 대해 짚고 넘어가야 한다. 인터넷에 연결된 모든 디바이스(컴퓨터, 스마트폰, 공유기 등)는 고유한 12자리 숫자로 구성된 IP주소를 가진다. IP를 유동성으로 나누면 크게 유동 IP, 고정 IP로 분류할 수 있다. 유동 IP: 임의의 시점마다 IP주소가 갱신되는 IP. 갱신 주기는 일정하지 않음. 대부분의 인터넷 회선에 적용됨. 고정 IP: 회선에 고정된 IP를 부여하며, 해당 회선의 IP는 갱신되지 않음. 부가서비스 형태로 제공되며, 쇼핑몰이나 회사 등 지속적으로 시스템을 운영해야 할 경우 적합함. 우리가 원하는 장소에 방문하기 위해 주소를 찾듯이, 특정 서버에서 운영하는 웹 사이트를 방문하기 위해선 해당 서버의 주소인 IP가 필요하다.","coverImage":"https://user-images.githubusercontent.com/50317129/120056028-b2985880-c074-11eb-8cc3-39f5f10a2c7f.png","date":"2021-05-22T12:52:51","type":"posts","category":"WEB","tag":["WEB(웹)","Domain(도메인)"],"comment":true,"publish":true},"name":"2021-05-22-about-domain.md","content":"\r\n# Domain(도메인)이란?\r\n\r\n도메인을 이해하기 위해선, IP에 대해 짚고 넘어가야 한다.  \r\n인터넷에 연결된 모든 디바이스(컴퓨터, 스마트폰, 공유기 등)는 <span class=\"blue-500\">고유한 12자리 숫자로 구성된 IP주소</span>를 가진다.  \r\nIP를 유동성으로 나누면 크게 유동 IP, 고정 IP로 분류할 수 있다.\r\n\r\n* <span class=\"primary\">유동 IP</span>: 임의의 시점마다 IP주소가 갱신되는 IP. 갱신 주기는 일정하지 않음. 대부분의 인터넷 회선에 적용됨.\r\n* <span class=\"primary\">고정 IP</span>: 회선에 고정된 IP를 부여하며, 해당 회선의 IP는 갱신되지 않음. 부가서비스 형태로 제공되며, 쇼핑몰이나 회사 등 지속적으로 시스템을 운영해야 할 경우 적합함.\r\n\r\n우리가 원하는 장소에 방문하기 위해 주소를 찾듯이, <span class=\"green-500\">특정 서버에서 운영하는 웹 사이트를 방문하기 위해선 해당 서버의 주소인 IP가 필요</span>하다.  \r\n불행히도, IP는 불규칙적인 숫자로 이루어져있어, 사람이 쉽게 기억하기 다소 어렵다. 이러한 불편함을 해소하기 위한 것이 Domain(도메인)이다.\r\n\r\n도메인은 <span class=\"pink-400\">SLD(서브도메인)</span>, <span class=\"pink-400\">도메인</span>, <span class=\"pink-400\">TLD(최상위 도메인)</span>으로 구분되며, 해당 도메인의 정보는 1차적으로 각 로컬 DNS 서버가 관리하며, 최종적으로는 TLD를 관리하는 Root DNS에서 관리한다.\r\n\r\n> 도메인에 대한 자세한 내용은 이전에 작성된 [URI? URL? URN? 리소스 식별자 구분하기](/posts/uri-url-urn)를 참조한다.\r\n\r\n# 그래서 도메인을 왜 쓰는데?\r\n\r\n우리가 흔히 <span class=\"green-A700\">네이버</span>라고 부르는 사이트의 실제 IP는 [125.209.222.141](http://125.209.222.141)이다. 하지만 우리들 중 그 누구도 저런 IP로 <span class=\"green-A700\">네이버</span>에 접속하지 않는다. 대신 우리는 [https://www.naver.com](https://www.naver.com)이라는 도메인으로 접속한다. 이유는 간단하다. 주소 자체에 <span class=\"green-A700\">naver</span>라는 키워드가 포함되어 있으므로 기억하기 쉽기 때문이다.\r\n\r\n<span class=\"pink-400\">도메인</span>은 숫자가 아닌, 문자 형태로 이루어진 주소다. 문자이므로, 주소에 의미를 부여하기 용이하다. 사용자가 주소를 기억하기 쉬워 주소에 대한 접근성을 높여준다.  \r\n생성한 <span class=\"pink-400\">도메인</span>에 원하는 IP를 연결하면 <span class=\"pink-400\">도메인</span> 주소를 통해서도 해당 IP에 접근할 수 있다.\r\n<span class=\"pink-400\">도메인</span> 제공 업체에 따라, 영숫자 뿐만 아니라 한글과 같은 유니코드 문자도 지원하므로, 딱딱한 IP 대신 개성있는 주소를 사용할 수 있는 것이다.\r\n\r\n# 도메인의 원리\r\n\r\n여기서 의문점이 한 가지 생긴다. IP [125.209.222.141](http://125.209.222.141)와 <span class=\"pink-400\">도메인</span> [https://www.naver.com](https://www.naver.com)가 <span class=\"green-A700\">네이버</span>를 가리키는 주소인건 알겠는데, 인터넷은 과연 두 주소의 연결고리를 어떻게 아는 걸까?\r\n\r\n이는 <span class=\"pink-400\">도메인</span>의 동작 원리를 보면 알 수 있다. `rwb0104.github.io` <span class=\"pink-400\">도메인</span>에 접근하는 과정을 예시로 보자.\r\n\r\n1. HTTP 통신을 통해 `rwb0104.github.io`에 접근을 시도한다.\r\n2. 네트워크에 지정된 로컬 DNS에게 `rwb0104.github.io`의 정보를 요청한다.\r\n   * 만약 로컬 DNS가 해당 도메인의 정보를 보유하고 있을 경우, 즉시 정보를 제공한다.\r\n3. `rwb0104.github.io`에 대한 정보가 없을 경우, 근접한 Root DNS에 해당 도메인의 정보를 요청한다.\r\n4. Root DNS가 `.io` TLD를 관리하는 DNS 서버의 정보를 로컬 DNS에 제공한다.\r\n5. 로컬 DNS가 `rwb0104.github.io`를 관리하는 TLD의 DNS 서버에 해당 정보를 요청한다.\r\n6. TLD DNS 서버가 `rwb0104.github.io`에 대한 정보(IP 등)을 제공한다.\r\n7. 로컬 DNS가 `rwb0104.github.io`의 IP를 알고 있으므로, 이를 통해 해당 사이트에 접근할 수 있다.\r\n\r\n기본적으로 <span class=\"pink-400\">도메인</span>은 반드시 하나의 IP와 연결된다. 이런 특징 덕분에 <span class=\"pink-400\">도메인</span>은 항상 특정한 하나의 IP만을 반환한다.","url":["2021-05-22-about-domain","2021","05","22","about-domain"]}],"categories":{"WEB":{"count":5,"flag":true},"CS":{"count":10,"flag":true},"알고리즘":{"count":30,"flag":false},"React":{"count":1,"flag":false},"JAVA":{"count":3,"flag":false},"Jekyll":{"count":4,"flag":false},"WAS":{"count":2,"flag":false},"잡담":{"count":1,"flag":false}},"images":["celeb1.webp","celeb10.webp","celeb11.webp","celeb12.webp","celeb13.webp","celeb14.webp","celeb15.webp","celeb16.webp","celeb2.webp","celeb3.webp","celeb4.webp","celeb5.webp","celeb6.webp","celeb7.webp","celeb8.webp","celeb9.webp","city1.webp","city10.webp","city11.webp","city12.webp","city13.webp","city14.webp","city15.webp","city2.webp","city3.webp","city4.jpg","city4.webp","city5.webp","city6.webp","city7.webp","city8.webp","city9.webp","code1.webp","code2.webp","code3.webp","funk1.webp","funk2.webp","funk3.webp","funk4.webp","funk5.webp","funk6.webp","game1.webp","signal.webp"],"category":"WEB","page":1},"__N_SSG":true}