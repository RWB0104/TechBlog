I"D	<h2 id="개요">개요</h2>

<p>게시글을 읽다 보면 내용이 끝나는 하단에 <strong>추천 게시물</strong>, <strong>최근 게시물</strong>과 같이 블로그에 기재된 다른 여러 컨텐츠를 랜덤으로 노출시키기도 한다. 이러한 구조는 <a href="/posts/2020/09/next-prev-post-button/">이전 게시글</a>의 페이지 이동 버튼과 더불어 사용자에게 컨텐츠에 대한 흥미를 유발하고, 한 번의 접속으로 여러 컨텐츠를 노출시키는 효과가 있다. 이 장에서는 블로그의 게시글 중 랜덤으로 몇 가지를 추천 게시글로 보여주는 기능을 구성한다.</p>

<hr />
<h2 id="게시물-리스트-가져오기">게시물 리스트 가져오기</h2>

<p>게시글을 출력하기 위해서 우선 게시글의 목록을 가져올 필요가 있다. 게시글의 목록은 Liquid 언어를 통해 가져올 수 있으며, HTML 코드에서 아래와 같이 입력하면 된다.</p>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">{% assign posts = site[page.collection] %}</code></pre></figure>

<p>위의 코드를 이용하면 전체 게시글 리스트가 담긴 배열을 얻을 수 있다. 이 배열의 각 요소가 하나의 게시글이 된다. for문 같은 반복문을 통해 각각의 게시물 데이터에 접근할 수 있다. <strong>assign</strong> 명령어는 변수를 선언하는 것으로, 위 구문은 posts라는 변수에 게시글 객체를 할당한다는 뜻이다. 해당 선언문 아래로는 <strong>posts</strong>로 <strong>site[page.collection]</strong>를 대체할 수 있다. 이해를 위해 아래의 구문을 입력해보자.</p>

<figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">{% assign posts = site[page.collection] %}
{% for post in posts %}
		{% if post.url != page.url and post.related != null and post.related == page.related %}
		{% assign count = true %}
		<span class="nt">&lt;li&gt;</span>
			<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ site.url }}{{ post.url }}"</span> <span class="na">class=</span><span class="s">"{{ post.background }}"</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;</span>
		<span class="nt">&lt;/li&gt;</span>
		{% endif %}
		{% endfor %}</code></pre></figure>
:ET